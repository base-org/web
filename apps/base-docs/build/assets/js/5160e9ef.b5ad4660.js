"use strict";(self.webpackChunk_app_base_docs=self.webpackChunk_app_base_docs||[]).push([[6388],{82247:(e,t,a)=>{a.d(t,{xA:()=>c,yg:()=>d});var n=a(14041);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(a),m=r,d=u["".concat(s,".").concat(m)]||u[m]||y[m]||o;return a?n.createElement(d,l(l({ref:t},c),{},{components:a})):n.createElement(d,l({ref:t},c))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},54386:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>y,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=a(89575),r=(a(14041),a(82247));const o={title:"Farcaster Frames: Deploying to Vercel",slug:"/farcaster-frames-deploy-to-vercel",description:"A tutorial that teaches how to deploy a Farcaster Frame using Vercel.",author:"briandoyle81",keywords:["farcaster","frames farcaster frames","Vercel","OnchainKit","a frame in 100 lines","deploy"],tags:["frames"],difficulty:"beginner",hide_table_of_contents:!1,displayed_sidebar:null},l=void 0,i={unversionedId:"docs/farcaster-frames-deploy-to-vercel",id:"docs/farcaster-frames-deploy-to-vercel",title:"Farcaster Frames: Deploying to Vercel",description:"A tutorial that teaches how to deploy a Farcaster Frame using Vercel.",source:"@site/tutorials/docs/3_farcaster-frames-deploy-to-vercel.md",sourceDirName:"docs",slug:"/farcaster-frames-deploy-to-vercel",permalink:"/tutorials/farcaster-frames-deploy-to-vercel",draft:!1,tags:[{label:"frames",permalink:"/tutorials/tags/frames"}],version:"current",sidebarPosition:3,frontMatter:{title:"Farcaster Frames: Deploying to Vercel",slug:"/farcaster-frames-deploy-to-vercel",description:"A tutorial that teaches how to deploy a Farcaster Frame using Vercel.",author:"briandoyle81",keywords:["farcaster","frames farcaster frames","Vercel","OnchainKit","a frame in 100 lines","deploy"],tags:["frames"],difficulty:"beginner",hide_table_of_contents:!1,displayed_sidebar:null}},s={},p=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Onchain App Development",id:"onchain-app-development",level:3},{value:"GitHub",id:"github",level:3},{value:"Farcaster",id:"farcaster",level:3},{value:"Setup and Testing the Template",id:"setup-and-testing-the-template",level:2},{value:"Setting up Vercel",id:"setting-up-vercel",level:2},{value:"CI/CD with Vercel",id:"cicd-with-vercel",level:2},{value:"Manual Deploys",id:"manual-deploys",level:2},{value:"Testing the Cast",id:"testing-the-cast",level:2},{value:"Conclusion",id:"conclusion",level:2}],c={toc:p},u="wrapper";function y(e){let{components:t,...o}=e;return(0,r.yg)(u,(0,n.A)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"To share your ",(0,r.yg)("a",{parentName:"p",href:"https://warpcast.notion.site/Farcaster-Frames-4bd47fe97dc74a42a48d3a234636d8c5"},"Frames")," on ",(0,r.yg)("a",{parentName:"p",href:"https://www.farcaster.xyz/"},"Farcaster"),", you must first deploy them to the web. Farcaster reads the metadata from your site to build the Frame as it initially appears to the user. In this tutorial, we'll show you how to deploy the frame in the example - ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Zizzamia/a-frame-in-100-lines"},"a-frame-in-100-lines")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"objectives"},"Objectives"),(0,r.yg)("p",null,"By the end of this tutorial, you should be able to:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Deploy a ",(0,r.yg)("a",{parentName:"li",href:"https://www.farcaster.xyz/"},"Farcaster")," Frame with ",(0,r.yg)("a",{parentName:"li",href:"https://vercel.com"},"Vercel")),(0,r.yg)("li",{parentName:"ul"},"Use CI/CD to automatically deploy to Vercel when you update your ",(0,r.yg)("inlineCode",{parentName:"li"},"main")," or ",(0,r.yg)("inlineCode",{parentName:"li"},"master")," branch"),(0,r.yg)("li",{parentName:"ul"},"Find and review logs and error messages for your deployed Frame")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.yg)("h3",{id:"onchain-app-development"},"Onchain App Development"),(0,r.yg)("p",null,"You'll need to be comfortable building onchain apps."),(0,r.yg)("h3",{id:"github"},"GitHub"),(0,r.yg)("p",null,"You'll need a ",(0,r.yg)("a",{parentName:"p",href:"https://github.com"},"GitHub")," account and should be comfortable pushing code to it. If you're using another solution for managing your code, you should be able to adapt this tutorial to your use case."),(0,r.yg)("h3",{id:"farcaster"},"Farcaster"),(0,r.yg)("p",null,"You must have a ",(0,r.yg)("a",{parentName:"p",href:"https://www.farcaster.xyz/"},"Farcaster")," account with a connected wallet. Check out the ",(0,r.yg)("a",{parentName:"p",href:"https://warpcast.com/~/channel/base"},"Base channel")," to stay in the loop when we release tutorials like this!"),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"setup-and-testing-the-template"},"Setup and Testing the Template"),(0,r.yg)("p",null,"Start by creating a new repo using ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Zizzamia/a-frame-in-100-lines"},"a-frame-in-100-lines")," as a template."),(0,r.yg)("p",null,"Run ",(0,r.yg)("inlineCode",{parentName:"p"},"yarn install"),", then ",(0,r.yg)("inlineCode",{parentName:"p"},"yarn dev"),"."),(0,r.yg)("p",null,"In the browser, open ",(0,r.yg)("inlineCode",{parentName:"p"},"http://localhost:3000/"),". All you'll see is a heading with ",(0,r.yg)("em",{parentName:"p"},"Zizzamia.xyz"),". This is expected!"),(0,r.yg)("p",null,"Open ",(0,r.yg)("inlineCode",{parentName:"p"},"app/page.tsx"),". Here, you'll find the initial setup of the metadata that Farcaster reads to create the frame, as well as the simple page you just viewed. Change the ",(0,r.yg)("inlineCode",{parentName:"p"},"<h1>")," to be your name."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"export default function Page() {\n  return (\n    <>\n      <h1>YOUR NAME HERE</h1>\n    </>\n  );\n}\n")),(0,r.yg)("p",null,"Change the ",(0,r.yg)("inlineCode",{parentName:"p"},"label")," of the first button in ",(0,r.yg)("inlineCode",{parentName:"p"},"buttons")," to be something you'll recognize as well. This can be your name, your pet's, or anything you like!"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"buttons: [\n  {\n    label: 'YOUR NAME HERE',\n  },\n  {\n    action: 'tx',\n    label: 'Send Base Sepolia',\n    target: `${NEXT_PUBLIC_URL}/api/tx`,\n    postUrl: `${NEXT_PUBLIC_URL}/api/tx-success`,\n  },\n],\n")),(0,r.yg)("h2",{id:"setting-up-vercel"},"Setting up Vercel"),(0,r.yg)("p",null,"Navigate to ",(0,r.yg)("a",{parentName:"p",href:"https://vercel.com"},"Vercel"),". Create an account if you need to, then sign in. You'll want to use your social login from ",(0,r.yg)("a",{parentName:"p",href:"https://github.com"},"GitHub"),", GitLab, or BitBucket."),(0,r.yg)("p",null,"You should see something like this:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Install",src:a(48523).A,width:"1260",height:"880"})),(0,r.yg)("p",null,"Click the ",(0,r.yg)("inlineCode",{parentName:"p"},"Install")," button to install the Vercel app in your Github organization. You'll need to select the appropriate choice for your organization between ",(0,r.yg)("inlineCode",{parentName:"p"},"All repositories")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"Only selected repositories"),"."),(0,r.yg)("p",null,"All is more convenient, but gives a (well respected) third party more access than is required. For this tutorial, we're assuming that you've chosen to go with minimum necessary access. Click the ",(0,r.yg)("inlineCode",{parentName:"p"},"Select repositories")," dropdown, and pick the repo for your Frame."),(0,r.yg)("p",null,"Click ",(0,r.yg)("inlineCode",{parentName:"p"},"Install"),"."),(0,r.yg)("p",null,"You should see the ",(0,r.yg)("inlineCode",{parentName:"p"},"Import Git Repository")," screen:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Import",src:a(95391).A,width:"1300",height:"456"})),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"If you've come back to Vercel after a few months, it may be unclear how to add more repos. To do so, use the ",(0,r.yg)("inlineCode",{parentName:"p"},"Add New...")," dropdown on the projects page to get to the screen above, then click ",(0,r.yg)("inlineCode",{parentName:"p"},"Adjust GitHub App Permissions ->"),". Scroll down in the popup window to find your list of repos to add."),(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("img",{alt:"Vercel Projects",src:a(15350).A,width:"1024",height:"415"}))),(0,r.yg)("p",null,"Click the button, then configure your project. The ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Zizzamia/a-frame-in-100-lines"},"a-frame-in-100-lines")," example uses ",(0,r.yg)("inlineCode",{parentName:"p"},"Next.js"),", which is made by the same people as Vercel, so the default settings are fine. Pick a new name if you'd like, then click ",(0,r.yg)("inlineCode",{parentName:"p"},"Deploy"),"."),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"You won't have been the first person to name a project ",(0,r.yg)("inlineCode",{parentName:"p"},"a-frame-in-100-lines"),", so Vercel will adjust the name for you for the file path, if you gave your template copy the same name. Don't be confused when your changes don't show up at ",(0,r.yg)("inlineCode",{parentName:"p"},"a-frame-in-100-lines.vercel, app"),", that one isn't yours!")),(0,r.yg)("p",null,"After the deploy completes, click ",(0,r.yg)("inlineCode",{parentName:"p"},"Continue to Dashboard"),"."),(0,r.yg)("p",null,"On this screen, you'll see:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"A ",(0,r.yg)("em",{parentName:"li"},"Deployment")," link to this specific deployment. These persist, so you can always go back to compare before and after if you need to"),(0,r.yg)("li",{parentName:"ul"},"A ",(0,r.yg)("em",{parentName:"li"},"Domains")," link that goes to the main domain for your project. This will always link to your most recent deploy"),(0,r.yg)("li",{parentName:"ul"},"The ",(0,r.yg)("em",{parentName:"li"},"Status")," of your deploy, indicating, success, failure, or in process for each build"),(0,r.yg)("li",{parentName:"ul"},"A preview of the front page of your site")),(0,r.yg)("p",null,"There are also a number of useful tabs. You should eventually check them all out, but for now inspect:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("em",{parentName:"li"},"Project"),": You are here"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("em",{parentName:"li"},"Deployments"),": A list of the current, and all prior deployments. You'll use this tab to monitor new deployments as they build, or to revert to an old one if you need to"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("em",{parentName:"li"},"Logs"),": Any ",(0,r.yg)("inlineCode",{parentName:"li"},"console.log")," or ",(0,r.yg)("inlineCode",{parentName:"li"},"console.error")," logs you put in your code will appear here. Note that there may be a few seconds delay"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("em",{parentName:"li"},"Settings"),": Among other things, this is where you can set your environment variables. If it works locally but not deployed, this is a good place to review!")),(0,r.yg)("h2",{id:"cicd-with-vercel"},"CI/CD with Vercel"),(0,r.yg)("p",null,"By default, Vercel sets up CI/CD, so whenever you push a change to your main branch, it will automatically redeploy!"),(0,r.yg)("p",null,"Make a trivial change to your repo, commit it, and push it. When you do so, you'll see a new build in the ",(0,r.yg)("em",{parentName:"p"},"Deployments")," tab:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"New Build",src:a(16490).A,width:"1716",height:"634"})),(0,r.yg)("p",null,"If it fails, you'll get a fairly comprehensive log explaining what happened. Otherwise, it will automatically deploy!"),(0,r.yg)("h2",{id:"manual-deploys"},"Manual Deploys"),(0,r.yg)("p",null,"If you want, you can disable CI/CD and set up manual deploys. One convenient way to do this is to set up a ",(0,r.yg)("a",{parentName:"p",href:"https://vercel.com/blog/deploy-button"},"one click deploy button"),"."),(0,r.yg)("h2",{id:"testing-the-cast"},"Testing the Cast"),(0,r.yg)("p",null,"Open the ",(0,r.yg)("a",{parentName:"p",href:"https://warpcast.com/~/developers/frames"},"Frame Validator")," and paste in your link. Viewing a frame from the validator will re-cache it for ",(0,r.yg)("strong",{parentName:"p"},"future")," casts, but it ",(0,r.yg)("strong",{parentName:"p"},"will not")," change any existing casts of the frame."),(0,r.yg)("p",null,"Click ",(0,r.yg)("inlineCode",{parentName:"p"},"Load"),". You should see:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Example",src:a(6365).A,width:"1024",height:"559"})),(0,r.yg)("p",null,"Except it will have the text that you edited!"),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"conclusion"},"Conclusion"),(0,r.yg)("p",null,"In this tutorial, you learned how to deploy a frame with ",(0,r.yg)("a",{parentName:"p",href:"https://vercel.com"},"Vercel")," and take advantage of CI/CD."),(0,r.yg)("hr",null))}y.isMDXComponent=!0},6365:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/100-lines-frame-44ce80698469ba08735793361d618f11.png"},16490:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/vercel-build-e82997cd7d843444a8397a83c62421ca.png"},95391:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/vercel-import-cccdaeb59c462a5fc6b526b6af1247e2.png"},48523:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/vercel-install-566e93d302992c37fcfab2628e55e491.png"},15350:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/vercel-projects-8ed0f0252c5a7b16fb9fd0f3ad9c5ece.png"}}]);