"use strict";(self.webpackChunk_app_base_docs=self.webpackChunk_app_base_docs||[]).push([[1240],{30876:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(2784);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=o,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},65837:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=n(7896),o=(n(2784),n(30876));const r={title:"How to Mint on Zora with an App",slug:"/minting-nfts-with-zora",description:"Learn to use Zora contracts inside your app to create secure, efficient, and feature-rich minting experiences for your users.",author:"briandoyle81",keywords:["Solidity","ERC-1155","token","NFT","wagmi","viem","Zora"],tags:["nft","smart wallet"],difficulty:"intermediate",hide_table_of_contents:!1,displayed_sidebar:null},i=void 0,s={unversionedId:"docs/nft-minting-with-zora",id:"docs/nft-minting-with-zora",title:"How to Mint on Zora with an App",description:"Learn to use Zora contracts inside your app to create secure, efficient, and feature-rich minting experiences for your users.",source:"@site/tutorials/docs/2_nft-minting-with-zora.md",sourceDirName:"docs",slug:"/minting-nfts-with-zora",permalink:"/es/tutorials/minting-nfts-with-zora",draft:!1,tags:[{label:"nft",permalink:"/es/tutorials/tags/nft"},{label:"smart wallet",permalink:"/es/tutorials/tags/smart-wallet"}],version:"current",sidebarPosition:2,frontMatter:{title:"How to Mint on Zora with an App",slug:"/minting-nfts-with-zora",description:"Learn to use Zora contracts inside your app to create secure, efficient, and feature-rich minting experiences for your users.",author:"briandoyle81",keywords:["Solidity","ERC-1155","token","NFT","wagmi","viem","Zora"],tags:["nft","smart wallet"],difficulty:"intermediate",hide_table_of_contents:!1,displayed_sidebar:null}},l={},p=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"ERC-1155 Tokens",id:"erc-1155-tokens",level:3},{value:"Vercel",id:"vercel",level:3},{value:"Onchain Apps",id:"onchain-apps",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"Building the App",id:"building-the-app",level:2},{value:"Creating the Premint from the App",id:"creating-the-premint-from-the-app",level:3},{value:"Minting from the Premint",id:"minting-from-the-premint",level:3},{value:"Conclusion",id:"conclusion",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(u,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://zora.co/"},"Zora"),"'s mission is to make creating on the internet free and valuable. To support this, they've made a number of no-code tools, SDKs, and contracts that make creating NFTs easier. They're also a part of the ",(0,o.kt)("a",{parentName:"p",href:"https://www.superchain.eco/chains"},"superchain ecosystem"),", which means most of their tools also work on Base!"),(0,o.kt)("p",null,"You can interact with Zora's contracts through your own frontend, which makes it easier to create secure, efficient, and feature-rich minting experiences for your users."),(0,o.kt)("p",null,"For this tutorial, you'll use Zora's ",(0,o.kt)("a",{parentName:"p",href:"https://ourzora.github.io/zora-protocol/protocol-sdk/creator/premint"},"gasless 1155 premint")," with ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Zizzamia/an-onchain-app-in-100-components"},"An Onchain App in 100 Components")," to allow not-yet-onchain artists to use your app to create and share NFT collections ",(0,o.kt)("strong",{parentName:"p"},"without")," needing a funded wallet. And because the template includes the Coinbase ",(0,o.kt)("a",{parentName:"p",href:"https://www.coinbase.com/wallet/smart-wallet"},"Smart Wallet"),", you can help these users create their first wallet and automatically receive their rewards and payments without them needing to figure anything out."),(0,o.kt)("p",null,"In doing so, you'll help grow the ecosystem of Base users for everyone!"),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"objectives"},"Objectives"),(0,o.kt)("p",null,"By the end of this tutorial you should be able to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Programmatically use Zora's ",(0,o.kt)("a",{parentName:"li",href:"https://ourzora.github.io/zora-protocol/protocol-sdk/creator/premint"},"gasless 1155 premint")," create ERC-1155 minting experiences on a frontend"),(0,o.kt)("li",{parentName:"ul"},"Use the connected wallet address to receive minting rewards and payments")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("h3",{id:"erc-1155-tokens"},"ERC-1155 Tokens"),(0,o.kt)("p",null,"This tutorial assumes that you are familiar with the properties of ERC-1155 tokens, but you don't need to know how to write one."),(0,o.kt)("h3",{id:"vercel"},"Vercel"),(0,o.kt)("p",null,"You'll need to be comfortable deploying your app to ",(0,o.kt)("a",{parentName:"p",href:"https://vercel.com"},"Vercel"),", or using another solution on your own. Check out our tutorial on ",(0,o.kt)("a",{parentName:"p",href:"/tutorials/farcaster-frames-deploy-to-vercel"},"deploying with Vercel")," if you need a refresher!"),(0,o.kt)("h3",{id:"onchain-apps"},"Onchain Apps"),(0,o.kt)("p",null,"The tutorial assumes you're comfortable with the basics of deploying an app and connecting it to a smart contract. If you're still learning this part, check out our tutorials in ",(0,o.kt)("a",{parentName:"p",href:"https://base.org.camp"},"Base Camp")," for ",(0,o.kt)("a",{parentName:"p",href:"https://docs.base.org/base-camp/docs/frontend-setup/overview"},"Building an Onchain App"),"."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"getting-started"},"Getting Started"),(0,o.kt)("p",null,"Begin by making a copy of ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Zizzamia/an-onchain-app-in-100-components"},"An Onchain App in 100 Components")," by clicking the ",(0,o.kt)("inlineCode",{parentName:"p"},"Use this Template")," button then cloning it locally."),(0,o.kt)("p",null,"The team recommends using ","[Bun]",", so install it if you need to, then install the packages and run the app:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Install bun in case you don't have it\ncurl -fsSL <https://bun.sh/install> | bash\n\n# Install packages\nbun i\n\n# Run Next app\nbun run dev\n")),(0,o.kt)("p",null,"Navigate to ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost:3000")," and confirm the app is working."),(0,o.kt)("h2",{id:"building-the-app"},"Building the App"),(0,o.kt)("p",null,"This tutorial won't cover all of the frontend development, auth, databases, or other details of making a production app, but it will walk you through the major pieces of enabling your users to use your app to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Create a Coinbase Smart Wallet, if they need one"),(0,o.kt)("li",{parentName:"ul"},"Create an NFT collection, gaslessly with ",(0,o.kt)("inlineCode",{parentName:"li"},"Premint")),(0,o.kt)("li",{parentName:"ul"},"Add tokens to that collection"),(0,o.kt)("li",{parentName:"ul"},"Allow other people to mint the tokens")),(0,o.kt)("p",null,"Begin by opening ",(0,o.kt)("inlineCode",{parentName:"p"},"src/app/page.tsx")," and doing some cleanup. Delete everything expect the wallet integration, and add some copy that is friendly to non-crypto-native users:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'\'use client\';\nimport WalletComponents from \'@/components/WalletComponents\';\n\nexport default function Page() {\n  return (\n    <div className="flex w-96 flex-col md:w-[600px]">\n      <section className="mb-6 flex w-full flex-col border-b border-sky-800 pb-6">\n        <aside className="mb-6 flex">\n          <h2 className="text-xl">Wallet</h2>\n        </aside>\n        <p className="text-body text-white">\n          Welcome! Please sign in with your wallet. If you are new at this, you can create a new\n          wallet by clicking the "Connect wallet" button and following the instructions!\n        </p>\n        <WalletComponents />\n      </section>\n    </div>\n  );\n}\n')),(0,o.kt)("p",null,"You can also delete the files for the components you removed. You still need ",(0,o.kt)("inlineCode",{parentName:"p"},"OnchainProviders.tsx")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"WalletComponents.tsx"),"."),(0,o.kt)("h3",{id:"creating-the-premint-from-the-app"},"Creating the Premint from the App"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Gas on Base is currently inexpensive enough that we're doing this tutorial on the live network! Zora supports Base Sepolia as well, so feel free to use that instead.")),(0,o.kt)("p",null,"Open ",(0,o.kt)("inlineCode",{parentName:"p"},"src/app/wagmi.ts")," and convert the references of ",(0,o.kt)("inlineCode",{parentName:"p"},"baseSepolia")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"base"),"."),(0,o.kt)("p",null,"Install the ",(0,o.kt)("a",{parentName:"p",href:"https://ourzora.github.io/zora-protocol/protocol-sdk/introduction"},"Zora Protocol SDK"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"bun add @zoralabs/protocol-sdk viem@2.x\n")),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"src/app/components")," add a file called ",(0,o.kt)("inlineCode",{parentName:"p"},"CreatePremint.tsx"),". Open ",(0,o.kt)("inlineCode",{parentName:"p"},"CreatePremint.tsx"),"."),(0,o.kt)("p",null,"Import dependencies, instantiate a client, and stub out a component."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createCreatorClient } from '@zoralabs/protocol-sdk';\nimport { useEffect, useState } from 'react';\nimport { useAccount, useChainId, usePublicClient, useSignTypedData } from 'wagmi';\n\nexport default function CreatePremint() {\n  const chainId = useChainId();\n  const publicClient = usePublicClient()!;\n  const { address: creatorAddress } = useAccount();\n\n  const creatorClient = createCreatorClient({ chainId, publicClient });\n\n  const { signTypedData, data: signature } = useSignTypedData();\n\n  return <div>TODO</div>;\n}\n")),(0,o.kt)("p",null,"This tutorial isn't going to cover the management of storing and retrieving all of your users' premints or active mints, so add some debug state variables to hold the necessary data for the mint this example will create."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"// Debug to store collection info, stand-in for database, etc.\nconst [debugGlobalAddress, setDebugGlobalAddress] = useState<string | null>(null);\nconst [debugGlobalUid, setDebugGlobalUid] = useState<number | null>(null);\n")),(0,o.kt)("p",null,"You'll also need some state variables to capture the premint data and functions created by ",(0,o.kt)("inlineCode",{parentName:"p"},"creatorClient.createPremint"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const [premintConfig, setPremintConfig] = useState<any>(null);\nconst [collectionAddress, setCollectionAddress] = useState<string | null>(null);\nconst [typedDataDefinition, setTypedDataDefinition] = useState<any>(null);\nconst [submit, setSubmit] = useState<Function | null>(null);\n")),(0,o.kt)("p",null,"Finally, you need a way to collect all of the data needed to create the mint. Add a ",(0,o.kt)("inlineCode",{parentName:"p"},"type")," and use it for the ",(0,o.kt)("inlineCode",{parentName:"p"},"CreatePremint")," components props."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"export type PremintProps = {\n  contractName: string;\n  maxSupply: bigint;\n  maxTokensPerAddress: bigint;\n  mintStart: bigint;\n  mintDuration: bigint;\n  pricePerToken: bigint;\n};\n\nexport default function CreatePremint({\n  contractName,\n  maxSupply,\n  maxTokensPerAddress,\n  mintStart,\n  mintDuration,\n  pricePerToken,\n}: PremintProps) {\n  // Existing code...\n}\n")),(0,o.kt)("p",null,"The example in the ",(0,o.kt)("a",{parentName:"p",href:"https://ourzora.github.io/zora-protocol/protocol-sdk/creator/premint"},"premint docs")," goes into detail about the parameters, but they should be largely self-evident."),(0,o.kt)("p",null,"Open ",(0,o.kt)("inlineCode",{parentName:"p"},"src/app/page.tsx")," and add a debug instance of your props. As you develop the app, replace this with data gathered from other components to allow your users to upload images and enter the name, etc. into a form that you pin to IPFS for them."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const debugPremintProps = {\n  contractName: 'Pixel Seasons',\n  contractURI: 'ipfs://QmYjwarNweXhQAfu3phirz8vwnwFEqo5t8m3xt3HWpFd8N',\n  tokenURI: 'ipfs://QmXr9NuvX9afZhHTpd2jRgFHbVnaWPKD315AtnTT6H67hz',\n  maxSupply: 1000n,\n  maxTokensPerAddress: 5n,\n  mintStart: 0n,\n  mintDuration: 0n,\n  pricePerToken: 0n,\n};\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"contractURI")," is a file pinned to IPFS containing contract metadata, such as:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'{\n  "name": "Pixel Seasons",\n  "description": "Retro images representing each season.",\n  "image": "ipfs://QmaSaa3VkFiywQi2HmE1YmuXZCfp992Awso9SquEnYpcC1"\n}\n')),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"tokenURI")," is an IPFS link to valid NFT metadata, such as:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'{\n  "name": "Pixel Summer",\n  "description": "",\n  "image": "ipfs://Qmb8EYToz59cGExgaGyMxuGf22WtrNYXo5cNRApKrkaxdB",\n  "content": {\n    "mime": "image/jpg",\n    "uri": "ipfs://Qmb8EYToz59cGExgaGyMxuGf22WtrNYXo5cNRApKrkaxdB"\n  }\n}\n')),(0,o.kt)("p",null,"Add your component to the page and pass it the debug data:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'<section className="mb-6 flex w-full flex-col border-b border-sky-800 pb-6">\n  <aside className="mb-6 flex">\n    <h2 className="text-xl">Create Premint</h2>\n  </aside>\n  <p className="text-body text-white">\n    You can use this component to set up a premint for your non-engineer customers. After the\n    premint is created, it will demonstrate how their customers can mint the NFT.\n  </p>\n  <p className="text-body text-white">\n    For a production app, put a form here to collect info and upload images.\n  </p>\n  <br />\n  <CreatePremint {...debugPremintProps} />\n</section>\n')),(0,o.kt)("p",null,"Return to ",(0,o.kt)("inlineCode",{parentName:"p"},"CreatePremint.tsx"),". ",(0,o.kt)("inlineCode",{parentName:"p"},"createPremint")," is an asynchronous function, so you'll need to wrap it in a ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," to trigger it and update your state when the ",(0,o.kt)("inlineCode",{parentName:"p"},"createorAddress")," is fetched by ",(0,o.kt)("inlineCode",{parentName:"p"},"useAccount"),"."),(0,o.kt)("p",null,"Be sure to put ",(0,o.kt)("strong",{parentName:"p"},"your")," address for ",(0,o.kt)("inlineCode",{parentName:"p"},"createReferral"),". Zora will pay you a share of the revenue automatically to this address for your part in helping create the mint!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"useEffect(() => {\n  async function createPremint() {\n    const {\n      premintConfig: pC,\n      collectionAddress: cA,\n      typedDataDefinition: tDD,\n      submit: sub,\n    } = await creatorClient.createPremint({\n      // info of the 1155 contract to create.\n      contract: {\n        // the account that will be the admin of the collection.\n        // Must match the signer of the premint.\n        contractAdmin: creatorAddress!,\n        contractName,\n        contractURI,\n      },\n      // token info of token to create\n      token: {\n        tokenURI,\n        // Put your address as `createReferral`, you get rewards!\n        createReferral: '<YOUR ADDRESS HERE>',\n        maxSupply,\n        maxTokensPerAddress,\n        mintStart,\n        mintDuration,\n        pricePerToken,\n        payoutRecipient: creatorAddress!,\n      },\n    });\n\n    setPremintConfig(pC);\n    setCollectionAddress(cA);\n    setTypedDataDefinition(tDD);\n    setSubmit(() => sub); // Ensure submit is set as a function\n  }\n\n  if (creatorAddress) {\n    createPremint();\n  }\n}, [creatorAddress]);\n")),(0,o.kt)("p",null,"You've decomposed a ",(0,o.kt)("inlineCode",{parentName:"p"},"signTypedData")," function and ",(0,o.kt)("inlineCode",{parentName:"p"},"data"),", renamed as ",(0,o.kt)("inlineCode",{parentName:"p"},"signature"),", from the ",(0,o.kt)("inlineCode",{parentName:"p"},"useSignTypedData")," hook. The ",(0,o.kt)("inlineCode",{parentName:"p"},"signature")," will be updated when that function is called. You can use this with ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," to trigger sending the signed message to Zora with the ",(0,o.kt)("inlineCode",{parentName:"p"},"submit")," function you decomposed from ",(0,o.kt)("inlineCode",{parentName:"p"},"createPremint"),". This is also a good place to set your debug variables, or however you choose capturing the contract information in a production app:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"useEffect(() => {\n  if (signature) {\n    if (submit) {\n      submit({\n        signature,\n      });\n      // Debug to store collection info\n      setDebugGlobalAddress(collectionAddress);\n      setDebugGlobalUid(premintConfig.uid);\n    } else {\n      console.error('Submit function is not set.');\n    }\n  }\n}, [signature]);\n")),(0,o.kt)("p",null,"Finally, set up your return to show some instructions and the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create Premint")," button if the premint is not yet created, and some information about the mint if it has been:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'if (!debugGlobalAddress || !debugGlobalUid) {\n  return (\n    <main className="flex h-10 items-center space-x-4">\n      <button\n        className="rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700"\n        onClick={() => signTypedData(typedDataDefinition)}\n      >\n        Create Premint\n      </button>\n    </main>\n  );\n} else {\n  return (\n    <main className="flex h-10 items-center space-x-4">\n      <p>Collection Address: {debugGlobalAddress}</p>\n      <p>UID: {debugGlobalUid}</p>\n    </main>\n  );\n}\n')),(0,o.kt)("p",null,"Test the app! You should be able to sign the message, and see the address and uid for you mint after the message is signed."),(0,o.kt)("h3",{id:"minting-from-the-premint"},"Minting from the Premint"),(0,o.kt)("p",null,"Add a new file in ",(0,o.kt)("inlineCode",{parentName:"p"},"src/app/components")," called ",(0,o.kt)("inlineCode",{parentName:"p"},"ZoraCollectPremint.tsx")," and open it."),(0,o.kt)("p",null,"Create a stub with dependencies that instantiates a ",(0,o.kt)("inlineCode",{parentName:"p"},"collectorClient")," instance:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createCollectorClient } from '@zoralabs/protocol-sdk';\nimport { useAccount, useChainId, usePublicClient, useWriteContract } from 'wagmi';\n\nexport type CollectPremintProps = {\n  contractAddress: string;\n  uid: number;\n};\n\nexport default function ZoraCollectPremint({ contractAddress, uid }: CollectPremintProps) {\n  const chainId = useChainId();\n  const publicClient = usePublicClient()!;\n\n  const { address: minterAccount } = useAccount();\n  const { writeContract } = useWriteContract();\n\n  const collectorClient = createCollectorClient({ chainId, publicClient });\n\n  return <div>TODO</div>;\n}\n")),(0,o.kt)("p",null,"Next, add an async function to ",(0,o.kt)("inlineCode",{parentName:"p"},"collectPremint"),". This will use ",(0,o.kt)("inlineCode",{parentName:"p"},"collectorClient.mint")," to create a transaction that will deploy the NFT contract, if it hasn't been deployed yet, and claim ",(0,o.kt)("inlineCode",{parentName:"p"},"quantityToMint")," NFTs. It then uses ",(0,o.kt)("inlineCode",{parentName:"p"},"writeContract")," from ",(0,o.kt)("a",{parentName:"p",href:"https://wagmi.sh"},"wagmi")," to execute the transaction for the user to sign."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"async function collectPremint() {\n  if (!minterAccount) {\n    console.error('No minter account');\n    return;\n  }\n  const { parameters } = await collectorClient.mint({\n    tokenContract: contractAddress as `0x${string}`,\n    mintType: 'premint',\n    uid,\n    quantityToMint: 1,\n    mintComment: 'Neat!!!',\n    minterAccount,\n  });\n\n  writeContract(parameters);\n}\n")),(0,o.kt)("p",null,"Update the ",(0,o.kt)("inlineCode",{parentName:"p"},"return")," to return a button that calls the function with the props for the component:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'return (\n  <button\n    className="rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700"\n    onClick={collectPremint}\n  >\n    Collect Premint\n  </button>\n);\n')),(0,o.kt)("p",null,"Return to ",(0,o.kt)("inlineCode",{parentName:"p"},"CreatePremint.tsx"),". You wouldn't necessarily want to use this architecture for a production app since the creator probably ",(0,o.kt)("strong",{parentName:"p"},"doesn't")," want to be the first minter, but this is the most convenient place to test the component."),(0,o.kt)("p",null,"Add an instance of ",(0,o.kt)("inlineCode",{parentName:"p"},"ZoraCollectPremint")," to the return for after the premint has been created and pass it the debug variables:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'return (\n  <main className="flex h-10 items-center space-x-4">\n    <p>Collection Address: {debugGlobalAddress}</p>\n    <p>UID: {debugGlobalUid}</p>\n    <br />\n    <ZoraCollectPremint contractAddress={debugGlobalAddress} uid={debugGlobalUid} />\n  </main>\n);\n')),(0,o.kt)("p",null,"Test out the app. When you click the button, you should get a transaction to mint the NFT. Finally, open your ",(0,o.kt)("a",{parentName:"p",href:"https://zora.co/manage"},"Zora Dashboard"),". Select ",(0,o.kt)("inlineCode",{parentName:"p"},"Base")," as the network. You'll see your collection, ",(0,o.kt)("strong",{parentName:"p"},"and")," the rewards you've received from Zora for facilitating the creation of the collection and the mint of the NFT!"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Zora Dashboard",src:n(37274).Z,width:"1024",height:"789"})),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"In this tutorial, you've learned how to build an experience using the ",(0,o.kt)("a",{parentName:"p",href:"https://ourzora.github.io/zora-protocol/protocol-sdk/introduction"},"Zora Protocol SDK")," where non-crypto-native creators can create NFT collections ",(0,o.kt)("strong",{parentName:"p"},"without")," needing to fund a wallet and without you needing to subsidize their gas. You've also learned how to create a mint UI/UX from these premints, and how to collect your own rewards from ",(0,o.kt)("a",{parentName:"p",href:"https://zora.co/"},"Zora"),"."),(0,o.kt)("hr",null))}d.isMDXComponent=!0},37274:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dashboard-75ccf53e57ed9cecf8cebccf09d5b092.png"}}]);