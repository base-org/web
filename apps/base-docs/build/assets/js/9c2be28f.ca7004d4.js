"use strict";(self.webpackChunk_app_base_docs=self.webpackChunk_app_base_docs||[]).push([[1785],{30876:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var r=n(2784);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),d=i,g=u["".concat(l,".").concat(d)]||u[d]||m[d]||a;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},75204:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(7896),i=(n(2784),n(30876)),a=n(23716);const o={title:"Hardhat: Optimizing the gas usage of smart contracts",slug:"/hardhat-profiling-gas",description:"A tutorial that teaches how to optimize the gas usage of your smart contracts using Hardhat.",author:"Edson Alcala and Brian Doyle",keywords:["Hardhat","gas optimization","gas usage","gas profiling","Hardhat Gas Reporter plugin","smart contract development","cost savings","contract optimization","gas-efficient contracts"],tags:["smart contracts"],difficulty:"beginner",hide_table_of_contents:!1,displayed_sidebar:null},s=void 0,l={unversionedId:"docs/hardhat-profiling-gas",id:"docs/hardhat-profiling-gas",title:"Hardhat: Optimizing the gas usage of smart contracts",description:"A tutorial that teaches how to optimize the gas usage of your smart contracts using Hardhat.",source:"@site/tutorials/docs/4_hardhat-profiling-gas.md",sourceDirName:"docs",slug:"/hardhat-profiling-gas",permalink:"/tutorials/hardhat-profiling-gas",draft:!1,tags:[{label:"smart contracts",permalink:"/tutorials/tags/smart-contracts"}],version:"current",sidebarPosition:4,frontMatter:{title:"Hardhat: Optimizing the gas usage of smart contracts",slug:"/hardhat-profiling-gas",description:"A tutorial that teaches how to optimize the gas usage of your smart contracts using Hardhat.",author:"Edson Alcala and Brian Doyle",keywords:["Hardhat","gas optimization","gas usage","gas profiling","Hardhat Gas Reporter plugin","smart contract development","cost savings","contract optimization","gas-efficient contracts"],tags:["smart contracts"],difficulty:"beginner",hide_table_of_contents:!1,displayed_sidebar:null}},c={},p=[{value:"Objectives",id:"objectives",level:2},{value:"Overview",id:"overview",level:2},{value:"Setting up the Hardhat Gas Reporter plugin",id:"setting-up-the-hardhat-gas-reporter-plugin",level:2},{value:"Your first gas profiling",id:"your-first-gas-profiling",level:2},{value:"Common strategies to optimize contract sizes",id:"common-strategies-to-optimize-contract-sizes",level:2},{value:"Using the optimizer",id:"using-the-optimizer",level:3},{value:"Using immutable variables",id:"using-immutable-variables",level:3},{value:"Avoid unnecessary data storage",id:"avoid-unnecessary-data-storage",level:3},{value:"Using custom errors",id:"using-custom-errors",level:3},{value:"Conclusion",id:"conclusion",level:2}],u=(m="Video",function(e){return a.warn("Component "+m+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)});var m;const d={toc:p},g="wrapper";function h(e){let{components:t,...n}=e;return(0,i.kt)(g,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"In this tutorial, you'll learn how to profile and optimize your smart contract's gas usage with Hardhat and the ",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/hardhat-gas-reporter"},"Hardhat Gas Reporter")," plugin."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"objectives"},"Objectives"),(0,i.kt)("p",null,"By the end of this tutorial you should be able to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Use the Hardhat Gas Reporter plugin to profile gas usage"),(0,i.kt)("li",{parentName:"ul"},"Describe common strategies for improving the gas usage of a contract")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"In the world of smart contract development, optimizing the gas consumption of your smart contracts is important. Smaller contracts consume fewer gas resources during deployment and execution, resulting in significant cost savings for your users. In this tutorial, you will leverage the Hardhat Gas Reporter plugin to help you analyze and optimize your smart contract's gas usage."),(0,i.kt)("p",null,"The following provides further information about smart contract profiling and gas optimization."),(0,i.kt)("h2",{id:"setting-up-the-hardhat-gas-reporter-plugin"},"Setting up the Hardhat Gas Reporter plugin"),(0,i.kt)(u,{videoId:"867220421",title:"Installing the Gas Analyzer",mdxType:"Video"}),(0,i.kt)("p",null,"The Hardhat Gas Reporter plugin is an invaluable tool for profiling gas usage in your smart contracts. It allows you to gain insights into the gas consumption of various contract functions, making it easier to identify potential optimization opportunities. This tool is particularly useful during development when you want to ensure your contracts are as gas-efficient as possible."),(0,i.kt)("p",null,"To install, run ",(0,i.kt)("inlineCode",{parentName:"p"},"npm install -D hardhat-gas-reporter"),"."),(0,i.kt)("p",null,"Then, import ",(0,i.kt)("inlineCode",{parentName:"p"},"hardhat-gas-reporter")," in ",(0,i.kt)("inlineCode",{parentName:"p"},"hardhat.config.ts"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},'import "hardhat-gas-reporter"\n')),(0,i.kt)("p",null,"Configure the plugin in the ",(0,i.kt)("inlineCode",{parentName:"p"},"hardhat.config.ts")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const config: HardhatUserConfig = {\n  // ....\n  gasReporter: {\n    enabled: true,\n  },\n};\n")),(0,i.kt)("p",null,"When finished, you are ready to use the plugin."),(0,i.kt)("h2",{id:"your-first-gas-profiling"},"Your first gas profiling"),(0,i.kt)("p",null,"Create a contract called ",(0,i.kt)("inlineCode",{parentName:"p"},"Store")," with the following settings:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.19;\n\ncontract Store {\n    address public owner;\n    uint256 public numberOfItems;\n\n    struct Item {\n        uint256 id;\n        string description;\n        uint256 price;\n    }\n\n    // id => item\n    mapping(uint256 => Item) public items;\n\n    constructor() {\n        owner = msg.sender;\n    }\n\n    function addItem(string memory description, uint256 price) external {\n        require(msg.sender == owner, "invalid owner");\n\n        numberOfItems++;\n\n        items[numberOfItems] = Item(\n            numberOfItems,\n            description,\n            price\n        );\n    }\n}\n\n')),(0,i.kt)("p",null,"Add a test file called ",(0,i.kt)("inlineCode",{parentName:"p"},"Store.test.ts")," in order to test the gas reporter plugin. The test file should contain the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { expect } from 'chai';\nimport { ethers } from 'hardhat';\nimport { HardhatEthersSigner } from '@nomicfoundation/hardhat-ethers/signers';\n\nimport { Store, Store__factory } from '../typechain-types';\n\ndescribe('Store tests', function () {\n  let instance: Store;\n  let owner: HardhatEthersSigner;\n\n  before(async () => {\n    const signers = await ethers.getSigners();\n    owner = signers[0];\n    instance = await new Store__factory().connect(owner).deploy();\n  });\n\n  it('should add an item', async () => {\n    const description = 'TShirt';\n    const price = ethers.parseEther('1');\n\n    await instance.addItem(description, price);\n\n    expect(await instance.numberOfItems()).to.equal(1);\n  });\n});\n")),(0,i.kt)("p",null,"Run ",(0,i.kt)("inlineCode",{parentName:"p"},"npx hardhat test"),". The following report appears:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\xb7------------------------|---------------------------|---------------|-----------------------------\xb7\n|  Solc version: 0.8.18  \xb7  Optimizer enabled: true  \xb7  Runs: 10000  \xb7  Block limit: 30000000 gas  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Methods                                                                                         \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Contract  \xb7  Method   \xb7  Min        \xb7  Max        \xb7  Avg          \xb7  # calls      \xb7  usd (avg)  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store     \xb7  addItem  \xb7          -  \xb7          -  \xb7       113601  \xb7            1  \xb7          -  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Deployments           \xb7                                           \xb7  % of limit   \xb7             \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store                 \xb7          -  \xb7          -  \xb7       428837  \xb7        1.4 %  \xb7          -  \u2502\n\xb7------------------------|-------------|-------------|---------------|---------------|-------------\xb7\n")),(0,i.kt)("p",null,"The reporter provides a detailed overview of the gas costs for the function ",(0,i.kt)("inlineCode",{parentName:"p"},"addItem")," and the deployment costs."),(0,i.kt)("h2",{id:"common-strategies-to-optimize-contract-sizes"},"Common strategies to optimize contract sizes"),(0,i.kt)(u,{videoId:"867222700",title:"Improving Gas Usage",mdxType:"Video"}),(0,i.kt)("p",null,"After performing the first gas profiling, you can start ideating strategies to improve the gas costs. These strategies are certainly vast and this tutorial only covers some basic examples."),(0,i.kt)("h3",{id:"using-the-optimizer"},"Using the optimizer"),(0,i.kt)("p",null,"From the previous report, you can identify that the optimizer of the project has a value of 10000 runs. This means the deployment costs will be more expensive. However, if you modify that value to 200, you get:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\xb7------------------------|---------------------------|-------------|-----------------------------\xb7\n|  Solc version: 0.8.18  \xb7  Optimizer enabled: true  \xb7  Runs: 200  \xb7  Block limit: 30000000 gas  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Methods                                                                                       \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Contract  \xb7  Method   \xb7  Min        \xb7  Max        \xb7  Avg        \xb7  # calls      \xb7  usd (avg)  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store     \xb7  addItem  \xb7          -  \xb7          -  \xb7     113619  \xb7            1  \xb7          -  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Deployments           \xb7                                         \xb7  % of limit   \xb7             \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store                 \xb7          -  \xb7          -  \xb7     357505  \xb7        1.2 %  \xb7          -  \u2502\n\xb7------------------------|-------------|-------------|-------------|---------------|-------------\xb7\n")),(0,i.kt)("p",null,"This automatically gives you some improvements for deployment gas costs but slightly more for transaction executions."),(0,i.kt)("h3",{id:"using-immutable-variables"},"Using immutable variables"),(0,i.kt)("p",null,"In our ",(0,i.kt)("inlineCode",{parentName:"p"},"Store")," contract, you can identify certain variables that are only set during the creation of the contract. This means that an opportunity is possible to turn those variables into immutable, since immutable variables can still be assigned at construction time."),(0,i.kt)("p",null,"If you modify the ",(0,i.kt)("inlineCode",{parentName:"p"},"Store")," contract to:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.19;\n\ncontract Store {\n    address immutable owner;\n    uint256 public numberOfItems;\n\n    struct Item {\n        uint256 id;\n        string description;\n        uint256 price;\n    }\n\n    // id => item\n    mapping(uint256 => Item) public items;\n\n    constructor() {\n        owner = msg.sender;\n    }\n\n    function addItem(string memory description, uint256 price) external {\n        require(msg.sender == owner, "invalid owner");\n\n        numberOfItems++;\n\n        items[numberOfItems] = Item(\n            numberOfItems,\n            description,\n            price\n        );\n    }\n}\n')),(0,i.kt)("p",null,"Then, run the gas reporter. You should see:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\xb7------------------------|---------------------------|-------------|-----------------------------\xb7\n|  Solc version: 0.8.18  \xb7  Optimizer enabled: true  \xb7  Runs: 200  \xb7  Block limit: 30000000 gas  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Methods                                                                                       \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Contract  \xb7  Method   \xb7  Min        \xb7  Max        \xb7  Avg        \xb7  # calls      \xb7  usd (avg)  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store     \xb7  addItem  \xb7          -  \xb7          -  \xb7     111525  \xb7            1  \xb7          -  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Deployments           \xb7                                         \xb7  % of limit   \xb7             \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store                 \xb7          -  \xb7          -  \xb7     329580  \xb7        1.1 %  \xb7          -  \u2502\n\xb7------------------------|-------------|-------------|-------------|---------------|-------------\xb7\n")),(0,i.kt)("p",null,"Which already presents some improvements."),(0,i.kt)("h3",{id:"avoid-unnecessary-data-storage"},"Avoid unnecessary data storage"),(0,i.kt)("p",null,"Storing data and not storing data in a smart contract is a design decision that has pros and cons. Some of the pros are certainly that all the information is stored in the smart contract and you don't necessarily need to rely on events or any other service to access the storage of a contract. However, the cons of storing all the information on the contract is the fact that it will be more expensive to perform actions against the smart contract."),(0,i.kt)("p",null,"In the ",(0,i.kt)("inlineCode",{parentName:"p"},"Store")," smart contract, you have the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"struct Item {\n        uint256 id;\n        string description;\n        uint256 price;\n    }\n\n// id => item\nmapping(uint256 => Item) public items;\n")),(0,i.kt)("p",null,"Looking closely, you can see that the ",(0,i.kt)("inlineCode",{parentName:"p"},"Id")," of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Item")," struct and the ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," used in the mapping are similar. You can avoid duplicating this information by removing the id of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Item")," struct."),(0,i.kt)("p",null,"The contract looks like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.19;\n\ncontract Store {\n    address immutable owner;\n    uint256 public numberOfItems;\n\n    struct Item {\n        string description;\n        uint256 price;\n    }\n\n    // id => item\n    mapping(uint256 => Item) public items;\n\n    constructor() {\n        owner = msg.sender;\n    }\n\n    function addItem(string memory description, uint256 price) external {\n        require(msg.sender == owner, "invalid owner");\n\n        numberOfItems++;\n\n        items[numberOfItems] = Item(\n            description,\n            price\n        );\n    }\n}\n')),(0,i.kt)("p",null,"If you run the gas reporter, you then get:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\xb7------------------------|---------------------------|-------------|-----------------------------\xb7\n|  Solc version: 0.8.18  \xb7  Optimizer enabled: true  \xb7  Runs: 200  \xb7  Block limit: 30000000 gas  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Methods                                                                                       \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Contract  \xb7  Method   \xb7  Min        \xb7  Max        \xb7  Avg        \xb7  # calls      \xb7  usd (avg)  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store     \xb7  addItem  \xb7          -  \xb7          -  \xb7      89371  \xb7            1  \xb7          -  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Deployments           \xb7                                         \xb7  % of limit   \xb7             \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store                 \xb7          -  \xb7          -  \xb7     322251  \xb7        1.1 %  \xb7          -  \u2502\n\xb7------------------------|-------------|-------------|-------------|---------------|-------------\xb7\n")),(0,i.kt)("p",null,"This presents another improvement in the gas consumption of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Store")," smart contract. However, you can go further and instead of storing the items in a ",(0,i.kt)("inlineCode",{parentName:"p"},"mapping"),", you can simply emit ",(0,i.kt)("inlineCode",{parentName:"p"},"events")," and use the events as a cheap form of storage."),(0,i.kt)("p",null,"For instance, you can modify the contract to look like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.19;\n\ncontract Store {\n    address immutable owner;\n    uint256 public numberOfItems;\n\n    struct Item {\n        string description;\n        uint256 price;\n    }\n\n    event ItemCreated(uint256 id, Item item);\n\n    constructor() {\n        owner = msg.sender;\n    }\n\n    function addItem(string memory description, uint256 price) external {\n        require(msg.sender == owner, "invalid owner");\n\n        numberOfItems++;\n\n        emit ItemCreated(numberOfItems, Item(description, price));\n    }\n}\n')),(0,i.kt)("p",null,"Notice how instead of storing the items, you emit an ",(0,i.kt)("inlineCode",{parentName:"p"},"ItemCreated")," event, which reduces the gas costs for deployment and execution:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\xb7------------------------|---------------------------|-------------|-----------------------------\xb7\n|  Solc version: 0.8.18  \xb7  Optimizer enabled: true  \xb7  Runs: 200  \xb7  Block limit: 30000000 gas  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Methods                                                                                       \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Contract  \xb7  Method   \xb7  Min        \xb7  Max        \xb7  Avg        \xb7  # calls      \xb7  usd (avg)  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store     \xb7  addItem  \xb7          -  \xb7          -  \xb7      47315  \xb7            1  \xb7          -  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Deployments           \xb7                                         \xb7  % of limit   \xb7             \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store                 \xb7          -  \xb7          -  \xb7     208252  \xb7        0.7 %  \xb7          -  \u2502\n\xb7------------------------|-------------|-------------|-------------|---------------|-------------\xb7\n")),(0,i.kt)("p",null,"As you can see, the improvements in terms of gas consumption are significant. However, the draw back is that now in order to access all of the items, you must go through all of the ",(0,i.kt)("inlineCode",{parentName:"p"},"ItemCreated")," events emitted by the contract."),(0,i.kt)("h3",{id:"using-custom-errors"},"Using custom errors"),(0,i.kt)("p",null,"Another common way to optimize gas costs is by removing ",(0,i.kt)("inlineCode",{parentName:"p"},"require"),"s and use custom errors. For instance, you can do the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.19;\n\ncontract Store {\n    address immutable owner;\n    uint256 public numberOfItems;\n\n    error InvalidOwner();\n\n    struct Item {\n        string description;\n        uint256 price;\n    }\n\n    event ItemCreated(uint256 id, Item item);\n\n    constructor() {\n        owner = msg.sender;\n    }\n\n    function addItem(string memory description, uint256 price) external {\n        if(msg.sender != owner){\n            revert InvalidOwner();\n        }\n\n        numberOfItems++;\n\n        emit ItemCreated(numberOfItems, Item(description, price));\n    }\n}\n")),(0,i.kt)("p",null,"Which gives you the following report:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\xb7------------------------|---------------------------|-------------|-----------------------------\xb7\n|  Solc version: 0.8.18  \xb7  Optimizer enabled: true  \xb7  Runs: 200  \xb7  Block limit: 30000000 gas  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Methods                                                                                       \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Contract  \xb7  Method   \xb7  Min        \xb7  Max        \xb7  Avg        \xb7  # calls      \xb7  usd (avg)  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store     \xb7  addItem  \xb7          -  \xb7          -  \xb7      47315  \xb7            1  \xb7          -  \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Deployments           \xb7                                         \xb7  % of limit   \xb7             \u2502\n\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7|\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n|  Store                 \xb7          -  \xb7          -  \xb7     200683  \xb7        0.7 %  \xb7          -  \u2502\n\xb7------------------------|-------------|-------------|-------------|---------------|-------------\xb7\n")),(0,i.kt)("p",null,"Notice the improvement in deployment gas costs."),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"In this tutorial, you've learned some common strategies to profile and optimize the gas usage of your smart contracts using the Hardhat development environment and the Hardhat Gas Reporter plugin. By implementing these strategies and leveraging the Hardhat Gas Reporter plugin, you can create more efficient and cost-effective smart contracts for the benefit of the users, since this means less gas costs."),(0,i.kt)("hr",null))}h.isMDXComponent=!0}}]);