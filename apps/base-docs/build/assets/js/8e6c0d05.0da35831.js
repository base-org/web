"use strict";(self.webpackChunk_app_base_docs=self.webpackChunk_app_base_docs||[]).push([[1826],{82247:(e,t,a)=>{a.d(t,{xA:()=>m,yg:()=>u});var n=a(14041);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),d=p(a),c=r,u=d["".concat(l,".").concat(c)]||d[c]||g[c]||s;return a?n.createElement(u,o(o({ref:t},m),{},{components:a})):n.createElement(u,o({ref:t},m))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[d]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<s;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},82035:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var n=a(89575),r=(a(14041),a(82247));const s={title:"Farcaster Frames: Building HyperFrames",slug:"/farcaster-frames-hyperframes",description:"A tutorial that teaches how to make cross-linked HyperFrames in an organized manner.",author:"briandoyle81",hide_table_of_contents:!1,displayed_sidebar:null,keywords:["farcaster","frames","farcaster frames","HyperFrames","hyper frames","state","frame state","Base"],difficulty:"intermediate",tags:["frames"]},o=void 0,i={unversionedId:"docs/farcaster-frames-hyperframes",id:"docs/farcaster-frames-hyperframes",title:"Farcaster Frames: Building HyperFrames",description:"A tutorial that teaches how to make cross-linked HyperFrames in an organized manner.",source:"@site/tutorials/docs/3_farcaster-frames-hyperframes.md",sourceDirName:"docs",slug:"/farcaster-frames-hyperframes",permalink:"/tutorials/farcaster-frames-hyperframes",draft:!1,tags:[{label:"frames",permalink:"/tutorials/tags/frames"}],version:"current",sidebarPosition:3,frontMatter:{title:"Farcaster Frames: Building HyperFrames",slug:"/farcaster-frames-hyperframes",description:"A tutorial that teaches how to make cross-linked HyperFrames in an organized manner.",author:"briandoyle81",hide_table_of_contents:!1,displayed_sidebar:null,keywords:["farcaster","frames","farcaster frames","HyperFrames","hyper frames","state","frame state","Base"],difficulty:"intermediate",tags:["frames"]}},l={},p=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Vercel",id:"vercel",level:3},{value:"Farcaster",id:"farcaster",level:3},{value:"Frames",id:"frames",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"Creating the First Frame",id:"creating-the-first-frame",level:2},{value:"Setting up the Route",id:"setting-up-the-route",level:2},{value:"Identifying the Sending Frame",id:"identifying-the-sending-frame",level:3},{value:"HyperFrames",id:"hyperframes",level:2},{value:"Adding HyperFrames",id:"adding-hyperframes",level:2},{value:"Calling <code>getHyperFrame</code>",id:"calling-gethyperframe",level:2},{value:"Adding Conditionals",id:"adding-conditionals",level:2},{value:"Conclusion",id:"conclusion",level:2}],m={toc:p},d="wrapper";function g(e){let{components:t,...s}=e;return(0,r.yg)(d,(0,n.A)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"https://docs.farcaster.xyz/learn/what-is-farcaster/frames"},"Frames")," on ",(0,r.yg)("a",{parentName:"p",href:"https://www.farcaster.xyz/"},"Farcaster")," are getting more complex. Developers are now building interactions that require a handful, or even dozens of frames in response to various user states, inputs, and actions. HyperFrames are a system to organize navigation for large numbers of frames, using ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/coinbase/onchainkit"},"OnchainKit"),". In this tutorial, we'll use making the navigation for an ",(0,r.yg)("a",{parentName:"p",href:"https://warpcast.com/briandoyle81/0x108f1cdb"},"old-school adventure game")," fully in a frame. You can use this same technique for many other intents with your Frames, such as games, stores, customized mints, etc."),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"Frames are brand new and tools for building them are evolving quickly. Check the ",(0,r.yg)("a",{parentName:"p",href:"https://docs.farcaster.xyz/learn/what-is-farcaster/frames"},"Frames")," docs and OnchainKit ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/coinbase/onchainkit/blob/main/CHANGELOG.md"},"changelog"),"!")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"objectives"},"Objectives"),(0,r.yg)("p",null,"By the end of this tutorial, you should be able to:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Build HyperFrames - connected ",(0,r.yg)("a",{parentName:"li",href:"https://www.farcaster.xyz/"},"Farcaster")," Frames that manage significant numbers of cross-linked frames in an organized fashion"),(0,r.yg)("li",{parentName:"ul"},"Add management of conditional states to the navigation system"),(0,r.yg)("li",{parentName:"ul"},"Use frame state to pass information from one frame to another")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.yg)("h3",{id:"vercel"},"Vercel"),(0,r.yg)("p",null,"You'll need to be comfortable deploying your app to ",(0,r.yg)("a",{parentName:"p",href:"https://vercel.com"},"Vercel"),", or using another solution on your own. Check out our tutorial on ",(0,r.yg)("a",{parentName:"p",href:"/tutorials/farcaster-frames-deploy-to-vercel"},"deploying with Vercel")," if you need a refresher!"),(0,r.yg)("h3",{id:"farcaster"},"Farcaster"),(0,r.yg)("p",null,"You must have a ",(0,r.yg)("a",{parentName:"p",href:"https://www.farcaster.xyz/"},"Farcaster")," account with a connected wallet. Check out the ","[Base channel]"," to stay in the loop when we release tutorials like this!"),(0,r.yg)("h3",{id:"frames"},"Frames"),(0,r.yg)("p",null,"You should be comfortable with the basics of creating Farcaster ",(0,r.yg)("a",{parentName:"p",href:"https://docs.farcaster.xyz/learn/what-is-farcaster/frames"},"Frames"),". If you aren't, check out our tutorial on ",(0,r.yg)("a",{parentName:"p",href:"/tutorials/farcaster-frames-nft-minting"},"NFT Minting Frame"),"."),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"getting-started"},"Getting Started"),(0,r.yg)("p",null,"This tutorial assumes you're using ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Zizzamia/a-frame-in-100-lines"},"a-frame-in-100-lines")," as the base for your project. It's a very lightweight template, so with minor modifications, you can adapt this technique to any project."),(0,r.yg)("p",null,"You'll also need to create or find a handful of images to use for each frame. AI tools are wonderful for this type of prototyping, or you can right-click and save the images from the ",(0,r.yg)("a",{parentName:"p",href:"https://warpcast.com/briandoyle81/0x108f1cdb"},"old-school adventure game"),"."),(0,r.yg)("h2",{id:"creating-the-first-frame"},"Creating the First Frame"),(0,r.yg)("p",null,"Open ",(0,r.yg)("inlineCode",{parentName:"p"},"app/page.tsx"),". Modify the ",(0,r.yg)("inlineCode",{parentName:"p"},"getFrameMetadata")," for the first frame to match the frame in the example."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"First Frame",src:a(17848).A,width:"1024",height:"686"})),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"const frameMetadata = getFrameMetadata({\n  buttons: [\n    {\n      label: 'Road',\n    },\n    {\n      label: 'Woods',\n    },\n    {\n      label: 'Cave',\n    },\n    {\n      action: 'link',\n      label: 'TODO',\n      target: 'https://www.google.com',\n    },\n  ],\n  image: {\n    src: `${NEXT_PUBLIC_URL}/frame-1-forest.webp`,\n    aspectRatio: '1:1',\n  },\n  postUrl: `${NEXT_PUBLIC_URL}/api/frame`,\n});\n")),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"Per the ",(0,r.yg)("a",{parentName:"p",href:"https://docs.farcaster.xyz/learn/what-is-farcaster/frames"},"Frames")," specification, ",(0,r.yg)("inlineCode",{parentName:"p"},"state")," is not an allowed property on the first frame.")),(0,r.yg)("p",null,"Configure the rest of the metadata as you see fit. Remember, this won't show up in your frame, but it will appear if someone links your site to another platform that uses the standard Open Graph metadata."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"export const metadata: Metadata = {\n  title: 'HyperFrames!',\n  description: 'Time is a flat circle.',\n  openGraph: {\n    title: 'HyperFrames!',\n    description: 'Time is a flat circle.',\n    images: [`${NEXT_PUBLIC_URL}/frame-1-forest.webp`],\n  },\n  other: {\n    ...frameMetadata,\n  },\n};\n")),(0,r.yg)("h2",{id:"setting-up-the-route"},"Setting up the Route"),(0,r.yg)("p",null,"The route you'll construct is similar to the example in ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/Zizzamia/a-frame-in-100-lines/blob/main/app/api/frame/route.ts"},(0,r.yg)("inlineCode",{parentName:"a"},"app/api/route.ts"))," of the 100-lines example. It will use ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/coinbase/onchainkit"},"OnchainKit")," to retrieve and validate the message from the frame. In doing so, it will collect:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"The user's address"),(0,r.yg)("li",{parentName:"ul"},"The button clicked by the user to get here"),(0,r.yg)("li",{parentName:"ul"},"Text, if the previous frame had a text box"),(0,r.yg)("li",{parentName:"ul"},"Any ",(0,r.yg)("inlineCode",{parentName:"li"},"state")," data included in the sending frame")),(0,r.yg)("p",null,"Stub out the route, but remove the conditionals and the existing response:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"import { FrameRequest, getFrameMessage, getFrameHtmlResponse } from '@coinbase/onchainkit';\nimport { NextRequest, NextResponse } from 'next/server';\n\nasync function getResponse(req: NextRequest): Promise<NextResponse> {\n  let accountAddress: string | undefined = '';\n  let text: string | undefined = '';\n\n  const body: FrameRequest = await req.json();\n  const { isValid, message } = await getFrameMessage(body, { neynarApiKey: 'NEYNAR_ONCHAIN_KIT' });\n\n  if (isValid) {\n    accountAddress = message.interactor.verified_accounts[0];\n  } else {\n    return new NextResponse('Message not valid', { status: 500 });\n  }\n\n  return new NextResponse();\n  // TODO: Return a frame\n}\n\nexport async function POST(req: NextRequest): Promise<Response> {\n  return getResponse(req);\n}\n\nexport const dynamic = 'force-dynamic';\n")),(0,r.yg)("h3",{id:"identifying-the-sending-frame"},"Identifying the Sending Frame"),(0,r.yg)("p",null,"To identify which frame sent the request to the endpoint, you can extract the ",(0,r.yg)("inlineCode",{parentName:"p"},"state")," sent with the frame data in the request. The first frame ",(0,r.yg)("strong",{parentName:"p"},"will not")," have this, so you'll have to make an assumption there."),(0,r.yg)("p",null,"After the first frame, if the ",(0,r.yg)("inlineCode",{parentName:"p"},"state")," property is present, it will appear in the message as ",(0,r.yg)("inlineCode",{parentName:"p"},"state"),", but it will need to be decoded."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"let state = { frame: 'start' };\n\ntry {\n  state = JSON.parse(decodeURIComponent(message.state?.serialized));\n} catch (e) {\n  // Note that this error will always be triggered by the first frame\n  console.error(e);\n}\n")),(0,r.yg)("h2",{id:"hyperframes"},"HyperFrames"),(0,r.yg)("p",null,"Add a file called ",(0,r.yg)("inlineCode",{parentName:"p"},"hyperframes.ts")," to the ",(0,r.yg)("inlineCode",{parentName:"p"},"app")," folder. Import:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"import { getFrameHtmlResponse } from '@coinbase/onchainkit';\nimport { NEXT_PUBLIC_URL } from './config';\n")),(0,r.yg)("p",null,"Next, add an interface for the ",(0,r.yg)("inlineCode",{parentName:"p"},"HyperFrame"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"export type HyperFrame = {\n  frame: string;\n  1: string | ((text: string) => string) | (() => string);\n  2?: string | ((text: string) => string) | (() => string);\n  3?: string | ((text: string) => string) | (() => string);\n  4?: string | ((text: string) => string) | (() => string);\n};\n")),(0,r.yg)("p",null,"The interface contains properties to track the frame itself, and the identifier for which frame each button is mapped to. These are all strings, or functions that return strings, because you'll use string identifiers for your frames, and because the frame returned by ",(0,r.yg)("inlineCode",{parentName:"p"},"getFrameHtmlResponse")," is formatted as a string."),(0,r.yg)("p",null,"For the buttons, you can now use:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"A string identifying the frame the button should lead to"),(0,r.yg)("li",{parentName:"ul"},"A function that returns a string that also takes a string argument. Use this to pass in the user's address, or the ",(0,r.yg)("inlineCode",{parentName:"li"},"text")," from the frame"),(0,r.yg)("li",{parentName:"ul"},"Any function with no arguments that returns a frame name as a string")),(0,r.yg)("p",null,"If you need to, update the type here to handle more complex cases."),(0,r.yg)("p",null,"Next, add a ",(0,r.yg)("inlineCode",{parentName:"p"},"Record")," to store your collection of HyperFrames, and a function to add frames to the ",(0,r.yg)("inlineCode",{parentName:"p"},"Record"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"const frames: Record<string, HyperFrame> = {};\n\nexport function addHyperFrame(label: string, frame: HyperFrame) {\n  frames[label] = frame;\n}\n")),(0,r.yg)("p",null,"Finally, add a function to retrieve and return a HyperFrame by its ",(0,r.yg)("inlineCode",{parentName:"p"},"label")," and handle the case of an error."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"export function getHyperFrame(frame: string, text: string, button: number) {\n  const currentFrame = frames[frame];\n  const nextFrameIdOrFunction = currentFrame[button as keyof HyperFrame];\n\n  let nextFrameId: string;\n  if (typeof nextFrameIdOrFunction === 'function') {\n    nextFrameId = nextFrameIdOrFunction(text);\n  } else {\n    nextFrameId = nextFrameIdOrFunction as string;\n  }\n\n  if (!frames[nextFrameId]) {\n    throw new Error(`Frame not found: ${nextFrameId}`);\n  }\n\n  return frames[nextFrameId].frame;\n}\n")),(0,r.yg)("h2",{id:"adding-hyperframes"},"Adding HyperFrames"),(0,r.yg)("p",null,"You can put the HyperFrames wherever you want and import them into your route. For the sake of simplicity, this demo will simply include them at the top of the route file. Import"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"import { addHyperFrame, getHyperFrame } from '../../hyperframes';\n")),(0,r.yg)("p",null,"To store the HyperFrames, add them to the ",(0,r.yg)("inlineCode",{parentName:"p"},"Record")," type with ",(0,r.yg)("inlineCode",{parentName:"p"},"addHyperFrame"),". To create the frames themselves, use ",(0,r.yg)("inlineCode",{parentName:"p"},"getFrameHtmlResponse")," to build the frame, and add the names of the frames you have created, or will create, to the appropriate button."),(0,r.yg)("p",null,"Add the name of each frame as that frame's ",(0,r.yg)("inlineCode",{parentName:"p"},"state")," as well."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"addHyperFrame('start', {\n  frame: getFrameHtmlResponse({\n    buttons: [\n      {\n        label: 'Road',\n      },\n      {\n        label: 'Woods',\n      },\n      {\n        label: 'Cave',\n      },\n      {\n        action: 'link',\n        label: 'TODO',\n        target: 'https://www.google.com',\n      },\n    ],\n    image: {\n      src: `${NEXT_PUBLIC_URL}/frame-1-forest.webp`,\n      aspectRatio: '1:1',\n    },\n    state: { frame: 'start' },\n    postUrl: `${NEXT_PUBLIC_URL}/api/frame`,\n  }),\n  1: 'road',\n  2: 'woods-bear',\n  3: 'cave-1',\n});\n\naddHyperFrame('road', {\n  frame: getFrameHtmlResponse({\n    buttons: [\n      {\n        label: 'Go Back',\n      },\n      {\n        label: 'Shack',\n      },\n      {\n        label: 'Forward',\n      },\n    ],\n    image: {\n      src: `${NEXT_PUBLIC_URL}/road.png`,\n      aspectRatio: '1:1',\n    },\n    postUrl: `${NEXT_PUBLIC_URL}/api/frame`,\n  }),\n  1: 'start',\n  2: 'shack',\n  3: 'desert-road',\n});\n")),(0,r.yg)("p",null,"Above, you've created two HyperFrames. The first, has three buttons, mapped to the frames named ",(0,r.yg)("inlineCode",{parentName:"p"},"road"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"woods-bear"),", and ",(0,r.yg)("inlineCode",{parentName:"p"},"cave-1"),". Only the first will work, because you haven't built the other HyperFrames, or error handling."),(0,r.yg)("p",null,"The second, also has three buttons, mapped to frames as well. Only ",(0,r.yg)("inlineCode",{parentName:"p"},"start")," is implemented as of yet."),(0,r.yg)("h2",{id:"calling-gethyperframe"},"Calling ",(0,r.yg)("inlineCode",{parentName:"h2"},"getHyperFrame")),(0,r.yg)("p",null,"Return to ",(0,r.yg)("inlineCode",{parentName:"p"},"route.ts"),". To avoid TypeScript errors, you'll need to implement at least a minimum of error handling for the event that the ",(0,r.yg)("inlineCode",{parentName:"p"},"frame")," query parameter or ",(0,r.yg)("inlineCode",{parentName:"p"},"button")," are not present:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"if (!frame) {\n  return new NextResponse('Frame not found', { status: 404 });\n}\n\n// There should always be a button number\nif (!message?.button) {\n  return new NextResponse('Button not found', { status: 404 });\n}\n")),(0,r.yg)("p",null,"Then, simply import and call ",(0,r.yg)("inlineCode",{parentName:"p"},"getHyperFrame")," as the ",(0,r.yg)("inlineCode",{parentName:"p"},"NextResponse"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"return new NextResponse(getHyperFrame(frame as string, text || '', message?.button));\n")),(0,r.yg)("p",null,"Deploy, test with the ",(0,r.yg)("a",{parentName:"p",href:"https://warpcast.com/~/developers/frames"},"Frame Validator"),", and debug!"),(0,r.yg)("h2",{id:"adding-conditionals"},"Adding Conditionals"),(0,r.yg)("p",null,"It's not very interesting for everyone to be able to explore without restriction, so add a lock with a password! To do so, add HyperFrame that contains a function to see if the ",(0,r.yg)("inlineCode",{parentName:"p"},"text")," contains the correct password."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"addHyperFrame('shack', {\n  frame: getFrameHtmlResponse({\n    buttons: [\n      {\n        label: 'Go Back',\n      },\n      {\n        label: 'Door',\n      },\n      {\n        label: 'Testing',\n      },\n    ],\n    image: {\n      src: `${NEXT_PUBLIC_URL}/shack.png`,\n      aspectRatio: '1:1',\n    },\n    input: {\n      text: 'What is the password?',\n    },\n    state: { frame: 'shack' },\n    postUrl: `${NEXT_PUBLIC_URL}/api/frame`,\n  }),\n  1: 'road',\n  2: (text: string) => {\n    return text === 'All your Base are belong to you' ? 'key' : 'shack-bad-password';\n  },\n});\n")),(0,r.yg)("p",null,"For the event that the user enters the wrong password, simply add a nearly identical frame asking them to try again. If they enter the correct password, take them to a new room via a different HyperFrame:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"addHyperFrame('shack-bad-password', {\n  frame: getFrameHtmlResponse({\n    buttons: [\n      {\n        label: 'Go Back',\n      },\n      {\n        label: 'Door',\n      },\n    ],\n    image: {\n      src: `${NEXT_PUBLIC_URL}/shack.png`,\n      aspectRatio: '1:1',\n    },\n    input: {\n      text: 'Try again. What is the password?',\n    },\n    state: { frame: 'shack-bad-password' },\n    postUrl: `${NEXT_PUBLIC_URL}/api/frame`,\n  }),\n  1: 'road',\n  2: (text: string) => {\n    return text === 'All your Base are belong to you' ? 'key' : 'shack-bad-password';\n  },\n});\n\naddHyperFrame('key', {\n  frame: getFrameHtmlResponse({\n    buttons: [\n      {\n        label: 'Go Back',\n      },\n      {\n        label: 'TODO',\n      },\n    ],\n    image: {\n      src: `${NEXT_PUBLIC_URL}/key.png`,\n      aspectRatio: '1:1',\n    },\n    state: { frame: 'key' },\n    postUrl: `${NEXT_PUBLIC_URL}/api/frame`,\n  }),\n  1: 'shack',\n});\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"conclusion"},"Conclusion"),(0,r.yg)("p",null,"In this tutorial, you learned how to implement a system of HyperFrames - frames that are easily cross-linkable. You also learned how to add variety and depth to this system by adding conditionals for the button linking one frame to another. Finally, you learned how to use the ",(0,r.yg)("inlineCode",{parentName:"p"},"state")," property to pass information between frames."),(0,r.yg)("hr",null))}g.isMDXComponent=!0},17848:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/first-frame-45c9e744b28436f13d35698bbb68c925.png"}}]);