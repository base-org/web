"use strict";(self.webpackChunk_app_base_docs=self.webpackChunk_app_base_docs||[]).push([[4819],{82247:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>A});var a=n(14041);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(n),g=o,A=p["".concat(l,".").concat(g)]||p[g]||u[g]||r;return n?a.createElement(A,i(i({ref:t},c),{},{components:n})):a.createElement(A,i({ref:t},c))}));function A(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var d=2;d<r;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},8435:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=n(89575),o=(n(14041),n(82247));const r={title:"Coinbase Smart Wallet",slug:"/coinbase-smart-wallet",description:"Learn to create an app that uses the Coinbase Smart Wallet and effectively manages assets and permissions for both native and new users of onchain apps",author:"briandoyle81",keywords:["Solidity","ERC-721","token","NFT","wagmi","viem","smart wallet"],tags:["nft","smart wallet"],difficulty:"intermediate",hide_table_of_contents:!1,displayed_sidebar:null},i=void 0,s={unversionedId:"docs/coinbase-smart-wallet",id:"docs/coinbase-smart-wallet",title:"Coinbase Smart Wallet",description:"Learn to create an app that uses the Coinbase Smart Wallet and effectively manages assets and permissions for both native and new users of onchain apps",source:"@site/tutorials/docs/2_coinbase-smart-wallet.md",sourceDirName:"docs",slug:"/coinbase-smart-wallet",permalink:"/tutorials/coinbase-smart-wallet",draft:!1,tags:[{label:"nft",permalink:"/tutorials/tags/nft"},{label:"smart wallet",permalink:"/tutorials/tags/smart-wallet"}],version:"current",sidebarPosition:2,frontMatter:{title:"Coinbase Smart Wallet",slug:"/coinbase-smart-wallet",description:"Learn to create an app that uses the Coinbase Smart Wallet and effectively manages assets and permissions for both native and new users of onchain apps",author:"briandoyle81",keywords:["Solidity","ERC-721","token","NFT","wagmi","viem","smart wallet"],tags:["nft","smart wallet"],difficulty:"intermediate",hide_table_of_contents:!1,displayed_sidebar:null}},l={},d=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"ERC-721 Tokens",id:"erc-721-tokens",level:3},{value:"Vercel",id:"vercel",level:3},{value:"Onchain Apps",id:"onchain-apps",level:3},{value:"Building the Contract",id:"building-the-contract",level:2},{value:"Onchain Metadata",id:"onchain-metadata",level:3},{value:"Onchain SVG Image",id:"onchain-svg-image",level:3},{value:"Generating a Random Color",id:"generating-a-random-color",level:3},{value:"Saving the Color to the NFT",id:"saving-the-color-to-the-nft",level:3},{value:"Finishing the <code>tokenURI</code> Function",id:"finishing-the-tokenuri-function",level:3},{value:"List of NFTs Owned",id:"list-of-nfts-owned",level:3},{value:"Testing",id:"testing",level:3},{value:"Building an Onchain App",id:"building-an-onchain-app",level:2},{value:"Initial Testing",id:"initial-testing",level:3},{value:"Testing as a New User",id:"testing-as-a-new-user",level:3},{value:"Improving the Experience",id:"improving-the-experience",level:2},{value:"Showing the User&#39;s Balance",id:"showing-the-users-balance",level:3},{value:"Making it Easy to Fund Wallets",id:"making-it-easy-to-fund-wallets",level:3},{value:"Connecting to the Contract",id:"connecting-to-the-contract",level:2},{value:"Interpreting the Metadata and Image",id:"interpreting-the-metadata-and-image",level:3},{value:"Displaying a List of NFTs",id:"displaying-a-list-of-nfts",level:3},{value:"Testing with Smart Wallet",id:"testing-with-smart-wallet",level:3},{value:"Adding a Mint Button",id:"adding-a-mint-button",level:3},{value:"Interacting with the Contract",id:"interacting-with-the-contract",level:2},{value:"Conclusion",id:"conclusion",level:2}],c={toc:d},p="wrapper";function u(e){let{components:t,...r}=e;return(0,o.yg)(p,(0,a.A)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"The ",(0,o.yg)("a",{parentName:"p",href:"https://www.smartwallet.dev"},"Coinbase Smart Wallet")," is a new application of account abstraction that makes it easy to give the exact same onboarding to both native crypto users who have their own EOA wallet, and new users who would benefit from an easier onboarding to crypto. For the former, the wallet works almost exactly the way they are used to. For the latter, ",(0,o.yg)("a",{parentName:"p",href:"https://fidoalliance.org/passkeys/"},"passkeys")," are used to create a wallet and securely save the keys."),(0,o.yg)("p",null,"Most importantly, this wallet will work for the user across all apps using the Smart Wallet, across many different chains! Think of it as an onchain version of the social logins that most regular users now expect in their apps."),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"objectives"},"Objectives"),(0,o.yg)("p",null,"By the end of this tutorial you should be able to:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Connect users to your onchain app using the Coinbase Smart Wallet"),(0,o.yg)("li",{parentName:"ul"},"Integrate the Smart Wallet with wagmi"),(0,o.yg)("li",{parentName:"ul"},"Provide an easy path for your users to buy crypto and put it in their wallet"),(0,o.yg)("li",{parentName:"ul"},"Compare and contrast the Smart Wallet with other forms of account abstraction"),(0,o.yg)("li",{parentName:"ul"},"Take advantage of the ",(0,o.yg)("a",{parentName:"li",href:"https://www.smartwallet.dev/base-gasless-campaign"},"Base Gasless Campaign")," to onboard your first users with free gas")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.yg)("h3",{id:"erc-721-tokens"},"ERC-721 Tokens"),(0,o.yg)("p",null,"This tutorial assumes that you are able to write, test, and deploy your own ERC-721 tokens using the Solidity programming language. If you need to learn that first, check out our content in ",(0,o.yg)("a",{parentName:"p",href:"https://base.org.camp"},"Base Camp")," or the sections specific to ",(0,o.yg)("a",{parentName:"p",href:"https://docs.base.org/base-camp/docs/erc-721-token/erc-721-standard-video"},"ERC-721 Tokens"),"!"),(0,o.yg)("h3",{id:"vercel"},"Vercel"),(0,o.yg)("p",null,"You'll need to be comfortable deploying your app to ",(0,o.yg)("a",{parentName:"p",href:"https://vercel.com"},"Vercel"),", or using another solution on your own. Check out our tutorial on ",(0,o.yg)("a",{parentName:"p",href:"/tutorials/farcaster-frames-deploy-to-vercel"},"deploying with Vercel")," if you need a refresher!"),(0,o.yg)("h3",{id:"onchain-apps"},"Onchain Apps"),(0,o.yg)("p",null,"The tutorial assumes you're comfortable with the basics of deploying an app and connecting it to a smart contract. If you're still learning this part, check out our tutorials in ",(0,o.yg)("a",{parentName:"p",href:"https://base.org.camp"},"Base Camp")," for ",(0,o.yg)("a",{parentName:"p",href:"https://docs.base.org/base-camp/docs/frontend-setup/overview"},"Building an Onchain App"),"."),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"building-the-contract"},"Building the Contract"),(0,o.yg)("p",null,"Start by setting up an ",(0,o.yg)("a",{parentName:"p",href:"https://docs.openzeppelin.com/contracts/2.x/api/token/erc721"},"OpenZeppelin ERC-721")," contract. You'll need to set up a ",(0,o.yg)("inlineCode",{parentName:"p"},"mintTo")," function that accepts the address that should receive the NFT."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.24;\n\nimport "hardhat/console.sol";\nimport "@openzeppelin/contracts/token/ERC721/ERC721.sol";\n\ncontract RandomColorNFT is ERC721 {\n    uint public counter;\n\n    constructor() ERC721("RandomColorNFT", "RCNFT") {\n    }\n\n    function mintTo(address _to) public {\n        counter++;\n        _safeMint(_to, counter);\n    }\n}\n')),(0,o.yg)("admonition",{type:"info"},(0,o.yg)("p",{parentName:"admonition"},"With the Smart Wallet, ",(0,o.yg)("inlineCode",{parentName:"p"},"msg.sender")," is the users custodial address - where you want to send the NFT. This is not always the case with account abstraction. In some other implementations, ",(0,o.yg)("inlineCode",{parentName:"p"},"msg.sender")," is the smart contract address, even if the user signs in with an EOA. Regardless, it's becoming a common practice to pass the address you want the NFT to go to explicitly.")),(0,o.yg)("h3",{id:"onchain-metadata"},"Onchain Metadata"),(0,o.yg)("p",null,"Rather than pointing to a ",(0,o.yg)("inlineCode",{parentName:"p"},"json")," file on the traditional internet, you can put your metadata directly in the contract. To do so, first import some helper libraries:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-Solidity"},'import "@openzeppelin/contracts/utils/Base64.sol";\nimport "@openzeppelin/contracts/utils/Strings.sol";\n')),(0,o.yg)("p",null,"Next, ",(0,o.yg)("inlineCode",{parentName:"p"},"override")," the functions for ",(0,o.yg)("inlineCode",{parentName:"p"},"_baseURI")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"tokenURI")," to return base 64 encoded json metadata with the appropriate information:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-Solidity"},'function _baseURI() internal pure override returns (string memory) {\n  return "data:application/json;base64,";\n}\n\nfunction tokenURI(uint _tokenId) public view override returns (string memory) {\n  if(_tokenId > counter) {\n    revert InvalidTokenId(_tokenId);\n  }\n\n  string memory json = Base64.encode(\n    bytes(\n      string(\n        abi.encodePacked(\n        \'{"name": "\',\n        name(),\n        \' #: \',\n        Strings.toString(_tokenId),\n        \'","description": "Random colors are pretty or boring!", "image": "image": "data:image/svg+xml;base64,\',\n        // TODO...,\n        \'"}\'\n        )\n      )\n    )\n  );\n\n  return string(abi.encodePacked(_baseURI(), json));\n}\n')),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Be very careful")," setting up the single and double quotes above and be sure to test this function to make sure the result is valid json metadata. An error here will break the NFT and it won't show up correctly in wallets or marketplaces!"),(0,o.yg)("h3",{id:"onchain-svg-image"},"Onchain SVG Image"),(0,o.yg)("p",null,"For this NFT, the art will consist of a simple onchain SVG containing a square with a pseudo-randomly chosen color. Check out our tutorial on ",(0,o.yg)("a",{parentName:"p",href:"https://docs.base.org/tutorials/complex-onchain-nfts"},"Building Onchain NFTs")," if you want to try something more complicated."),(0,o.yg)("p",null,"Start by scaffolding out a ",(0,o.yg)("inlineCode",{parentName:"p"},"render")," function:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"function render(uint _tokenId) public view returns (string memory) {\n  return string(\n    abi.encodePacked(\n      \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'>\",\n        // TODO: add a rectangle with a random color fill\n      \"</svg>\"\n    )\n  );\n}\n")),(0,o.yg)("p",null,"Rectangles in SVG images are created with the ",(0,o.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect"},"rect")," element. To cover the whole background, you can set the width and height to the size of the ",(0,o.yg)("inlineCode",{parentName:"p"},"viewbox"),". Although not listed directly in the MDN page for rectangles, you can add a ",(0,o.yg)("inlineCode",{parentName:"p"},"fill")," property to add a fill color to any SVG element. You can use color names, or hex codes for colors:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-html"},'<rect width="100" height="100" fill="#aabbcc" />\n')),(0,o.yg)("h3",{id:"generating-a-random-color"},"Generating a Random Color"),(0,o.yg)("p",null,"Instead of a fixed color, your design calls for a unique color for each NFT. Add a function to generate this:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"// Function to generate a random color hex code\nfunction generateRandomColor() public view returns (string memory) {\n  // Generate a pseudo-random number using block.prevrandao\n  uint256 randomNum = uint256(keccak256(abi.encodePacked(block.prevrandao, block.timestamp, msg.sender)));\n\n  // Extract RGB components from the random number\n  bytes memory colorBytes = new bytes(3);\n  colorBytes[0] = bytes1(uint8(randomNum >> 16));\n  colorBytes[1] = bytes1(uint8(randomNum >> 8));\n  colorBytes[2] = bytes1(uint8(randomNum));\n\n  // Convert RGB components to hex string\n  string memory colorHex = string(abi.encodePacked(\n    \"#\",\n    toHexDigit(uint8(colorBytes[0]) >> 4),\n    toHexDigit(uint8(colorBytes[0]) & 0x0f),\n    toHexDigit(uint8(colorBytes[1]) >> 4),\n    toHexDigit(uint8(colorBytes[1]) & 0x0f),\n    toHexDigit(uint8(colorBytes[2]) >> 4),\n    toHexDigit(uint8(colorBytes[2]) & 0x0f)\n  ));\n\n  return colorHex;\n}\n\n// Helper function to convert a uint8 to a hex character\nfunction toHexDigit(uint8 d) internal pure returns (bytes1) {\n  if (d < 10) {\n    return bytes1(uint8(bytes1('0')) + d);\n  } else {\n    return bytes1(uint8(bytes1('a')) + d - 10);\n  }\n}\n")),(0,o.yg)("admonition",{type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"Remember, randomness generated using onchain information is not fully secure. A determined attacker could manipulate a block to compromise your contract. That being said, ",(0,o.yg)("inlineCode",{parentName:"p"},"prevrandao")," is a passable solution for anything not involving a large amount of money.")),(0,o.yg)("h3",{id:"saving-the-color-to-the-nft"},"Saving the Color to the NFT"),(0,o.yg)("p",null,"You'll need to generate this color with the function, then save it in a way that it can be retrieved when the ",(0,o.yg)("inlineCode",{parentName:"p"},"tokenURI")," function is called. Add a mapping to store this relationship:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"mapping (uint => string) public tokenIdToColor;\n")),(0,o.yg)("p",null,"Then set the color when the token is minted:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"function mintTo(address _to) public {\n  counter++;\n  _safeMint(_to, counter);\n  tokenIdToColor[counter] = generateRandomColor();\n}\n")),(0,o.yg)("h3",{id:"finishing-the-tokenuri-function"},"Finishing the ",(0,o.yg)("inlineCode",{parentName:"h3"},"tokenURI")," Function"),(0,o.yg)("p",null,"Update your ",(0,o.yg)("inlineCode",{parentName:"p"},"render")," function to generate the SVG."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"function render(uint _tokenId) public view returns (string memory) {\n  return string(\n    abi.encodePacked(\n      \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'>\",\n      \"<rect width='1024' height='1024' fill='\",\n      tokenIdToColor[_tokenId],\n      \"' />\",\n      \"</svg>\"\n    )\n  );\n}\n")),(0,o.yg)("p",null,"Then update your ",(0,o.yg)("inlineCode",{parentName:"p"},"tokenURI")," function to use it, and return the SVG as base64 encoded data:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},'function tokenURI(uint _tokenId) public view override returns (string memory) {\n  if(_tokenId > counter) {\n    revert InvalidTokenId(_tokenId);\n  }\n\n  string memory json = Base64.encode(\n    bytes(\n      string(\n        abi.encodePacked(\n        \'{"name": "\',\n        name(),\n        \' #: \',\n        Strings.toString(_tokenId),\n        \'","description": "Random colors are pretty or boring!", "image": "data:image/svg+xml;base64,\',\n        Base64.encode(bytes(render(_tokenId))),\n        \'"}\'\n        )\n      )\n    )\n  );\n\n  return string(abi.encodePacked(_baseURI(), json));\n}\n')),(0,o.yg)("h3",{id:"list-of-nfts-owned"},"List of NFTs Owned"),(0,o.yg)("p",null,"Most ERC-721 implementations don't contain an on-contract method to retrieve a list of ",(0,o.yg)("strong",{parentName:"p"},"all")," the NFTs owned by a single address. The reason for this is that it costs extra gas go manage this list, and the information can be retrieved by using read-only services that analyze blockchain data."),(0,o.yg)("p",null,"However, gas prices are getting lower, and adding this data to your contract will reduce your dependency on third-party APIs."),(0,o.yg)("p",null,"To track ownership in-contract, first import ",(0,o.yg)("inlineCode",{parentName:"p"},"EnumerableSet")," from OpenZeppelin:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},'import "@openzeppelin/contracts/utils/structs/EnumerableSet.sol";\n')),(0,o.yg)("p",null,"Then enable it for ",(0,o.yg)("inlineCode",{parentName:"p"},"uint")," sets and add a mapping to relate ",(0,o.yg)("inlineCode",{parentName:"p"},"addresses")," to token ids."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"// Inside the RandomColorNFT contract\nusing EnumerableSet for EnumerableSet.UintSet;\n\nmapping (address => EnumerableSet.UintSet) tokensOwned;\n")),(0,o.yg)("p",null,"Finally, utilize the ",(0,o.yg)("inlineCode",{parentName:"p"},"_update")," function to handle changes of ownership, including minting:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"function _update(address to, uint256 tokenId, address auth) internal override(ERC721) returns(address) {\n  // Only remove the token if it is not being minted\n  if (tokenId != counter){\n    tokensOwned[auth].remove(tokenId);\n  }\n  tokensOwned[to].add(tokenId);\n\n  return super._update(to, tokenId, auth);\n}\n")),(0,o.yg)("p",null,"Now that you have a list of NFTs owned by an address, you can add a function to retrieve all of them. While you're at it, add the json metadata for each token. Doing so lets you get the complete list of NFTs ",(0,o.yg)("strong",{parentName:"p"},"and")," their metadata for just one RPC call!"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"function getNFftsOwned(address owner) public view returns (TokenAndMetatdata[] memory) {\n  TokenAndMetatdata[] memory tokens = new TokenAndMetatdata[](tokensOwned[owner].length());\n  for (uint i = 0; i < tokensOwned[owner].length(); i++) {\n    uint tokenId = tokensOwned[owner].at(i);\n    tokens[i] = TokenAndMetatdata(tokenId, tokenURI(tokenId));\n  }\n  return tokens;\n}\n")),(0,o.yg)("h3",{id:"testing"},"Testing"),(0,o.yg)("p",null,"Write some local tests, then ",(0,o.yg)("a",{parentName:"p",href:"https://docs.base.org/tutorials?tag=smart%20contracts"},"deploy")," and test your contract. It can be very tricky to get all the commas, brackets, and single, and double quotes all lined up properly. The surest way to make sure it is working is to check the collection on ",(0,o.yg)("a",{parentName:"p",href:"https://testnets.opensea.io/"},"Testnet Opensea")," or similar."),(0,o.yg)("p",null,"Remember, it can take a few minutes for them to register and add the collection. If the metadata or image don't show up correctly, use ",(0,o.yg)("a",{parentName:"p",href:"https://sepolia.basescan.org/"},"Sepolia Basescan")," to pull the ",(0,o.yg)("inlineCode",{parentName:"p"},"tokenURI")," and an online or console base64 decoder to decode and check the json metadata and SVG image."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Random Color NFT",src:n(6535).A,width:"602",height:"426"})),(0,o.yg)("h2",{id:"building-an-onchain-app"},"Building an Onchain App"),(0,o.yg)("p",null,"If you're an experienced frontend developer looking to build a production-ready site, check out the ",(0,o.yg)("a",{parentName:"p",href:"https://www.smartwallet.dev/guides/create-app/using-boat"},"BOAT")," template. You can also use the ",(0,o.yg)("a",{parentName:"p",href:"https://www.smartwallet.dev/guides/create-app/using-wagmi"},"wagmi template")," if you want to start with a smaller and simpler site."),(0,o.yg)("p",null,"Follow the instructions to spin up a new app. Using the ",(0,o.yg)("a",{parentName:"p",href:"https://www.smartwallet.dev/guides/create-app/using-wagmi"},"wagmi template"),", pick:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Name as you see fit. The script does allow you to use ",(0,o.yg)("inlineCode",{parentName:"li"},".")," to install in the current folder"),(0,o.yg)("li",{parentName:"ul"},"React"),(0,o.yg)("li",{parentName:"ul"},"Next")),(0,o.yg)("h3",{id:"initial-testing"},"Initial Testing"),(0,o.yg)("p",null,"Run ",(0,o.yg)("inlineCode",{parentName:"p"},"pnpm install")," then ",(0,o.yg)("inlineCode",{parentName:"p"},"pnpm run dev")," to start the site. First, open it with your regular browser. If you have a wallet browser extension installed, you'll see two buttons to connect:"),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Two Buttons",src:n(4947).A,width:"1024",height:"278"})),(0,o.yg)("p",null,"The reason is that the ",(0,o.yg)("inlineCode",{parentName:"p"},"wagmi")," template maps all the connectors it can detect to a button on the page. In this case, it has both the injected provider from your browser extension, and the Smart Wallet provider you added doing the setup steps. You'll fix this UX quirk shortly."),(0,o.yg)("p",null,"Try connecting, and you'll find that it works exactly like you're expecting it to as a user who has a wallet already and is familiar with onchain apps."),(0,o.yg)("h3",{id:"testing-as-a-new-user"},"Testing as a New User"),(0,o.yg)("p",null,"Next, open up a private or incognito window in your browser and visit your site on ",(0,o.yg)("inlineCode",{parentName:"p"},"localhost:3000"),". If you've enabled your wallet extension in this mode, you'll need to disable it."),(0,o.yg)("p",null,"Here, you should see only one button. The magic happens when you click it. Pretend you are an onchain newbie and click the ",(0,o.yg)("inlineCode",{parentName:"p"},"Create a smart wallet")," button."),(0,o.yg)("p",null,"Select any of the options to create a new passkey."),(0,o.yg)("p",null,"That's it, you've created a new wallet and logged into your app!"),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Create a passkey",src:n(9826).A,width:"1024",height:"454"})),(0,o.yg)("p",null,"The next time you try this, the app will automatically log you in. If you want to create a new wallet, use the ",(0,o.yg)("inlineCode",{parentName:"p"},"Disconnect")," button, then the ",(0,o.yg)("inlineCode",{parentName:"p"},"Coinbase Wallet Button"),", then click the gear and log out of the wallet."),(0,o.yg)("h2",{id:"improving-the-experience"},"Improving the Experience"),(0,o.yg)("p",null,"By using the Smart Wallet, you've made it easy for both new and experienced users to connect with your onchain app, but there are some improvements you can make that will benefit both types of users."),(0,o.yg)("p",null,"Open ",(0,o.yg)("inlineCode",{parentName:"p"},"page.tsx")," and find the ",(0,o.yg)("inlineCode",{parentName:"p"},"<div>")," with the Connect section:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},'<div>\n  <h2>Connect</h2>\n  {connectors.map((connector) => (\n    <button key={connector.uid} onClick={() => connect({ connector, chainId })} type="button">\n      {connector.name}\n    </button>\n  ))}\n  <div>{status}</div>\n  <div>{error?.message}</div>\n</div>\n')),(0,o.yg)("p",null,"Add a ",(0,o.yg)("inlineCode",{parentName:"p"},"<header>")," element to the top (or as appropriate for the UI/UX library you are using). Move the Connect ",(0,o.yg)("inlineCode",{parentName:"p"},"<div>")," inside, and replace the ",(0,o.yg)("inlineCode",{parentName:"p"},"connectors.map")," function with one that finds the Smart Wallet and uses it to connect. First, create the function:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"const createWallet = useCallback(() => {\n  const coinbaseWalletConnector = connectors.find(\n    (connector) => connector.id === 'coinbaseWalletSDK',\n  );\n  if (coinbaseWalletConnector) {\n    connect({ connector: coinbaseWalletConnector, chainId });\n  }\n}, [connectors, connect]);\n")),(0,o.yg)("p",null,"Then update the ",(0,o.yg)("inlineCode",{parentName:"p"},"<header>")," to use it. You can also move the ",(0,o.yg)("inlineCode",{parentName:"p"},"Disconnect")," button into the header. Only show the appropriate button, depending on the connection state."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"<header>\n  <div>\n    <h2>Connect</h2>\n    {account.status === 'disconnected' && (\n      <button onClick={() => createWallet()} type=\"button\">\n        Connect\n      </button>\n    )}\n    {account.status === 'connected' && (\n      <button type=\"button\" onClick={() => disconnect()}>\n        Disconnect\n      </button>\n    )}\n    <div>{'Status: ' + status}</div>\n    <div>{error?.message}</div>\n  </div>\n</header>\n")),(0,o.yg)("h3",{id:"showing-the-users-balance"},"Showing the User's Balance"),(0,o.yg)("p",null,"Experienced users will know that they need funds for gas and payments to interact with your app, but new users may not. Both benefit from seeing their balance shown on the app. Import ",(0,o.yg)("inlineCode",{parentName:"p"},"useBalance")," and initialize it below ",(0,o.yg)("inlineCode",{parentName:"p"},"useAccount"),":"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"const account = useAccount();\nconst balance = useBalance({ address: account.address });\n")),(0,o.yg)("p",null,"Then add it to the display when the user is logged in. You'll need to extract it from the object returned by ",(0,o.yg)("inlineCode",{parentName:"p"},"useBalance"),", and you'll want to truncate some decimals. It's also a good idea to indicate the chain the user is on."),(0,o.yg)("p",null,"Create a helper function to show the balance with four decimals:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"function weiToEtherString(wei: bigint) {\n  const ether = formatEther(wei);\n  return parseFloat(ether).toFixed(4).toString();\n}\n")),(0,o.yg)("p",null,"Then use it to display the user's balance:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"<div>\n  {account.status === 'connected' &&\n    'Balance: (' + account.chain?.name + ') ' + weiToEtherString(balance?.data?.value || BigInt(0))}\n</div>\n")),(0,o.yg)("h3",{id:"making-it-easy-to-fund-wallets"},"Making it Easy to Fund Wallets"),(0,o.yg)("p",null,"One of the most confusing things about onchain apps for new users is the number of steps and the amount of knowledge it takes to get the right amount of the right currency on the right network to be able to use these apps."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"The most important thing you can do to help your app and ",(0,o.yg)("em",{parentName:"strong"},"every")," app on Base is to make it easy for ",(0,o.yg)("em",{parentName:"strong"},"anyone")," to fund their wallet.")),(0,o.yg)("p",null,"In doing so, you make it much easier for people to onboard to your app, and you can take advantage of being a part of a community of developers doing the same."),(0,o.yg)("p",null,"Together, we can create a gateway to bring the world onchain!"),(0,o.yg)("p",null,"Start by logging in to the ",(0,o.yg)("a",{parentName:"p",href:"https://portal.cdp.coinbase.com/"},"Coinbase Developer Platform (CDP)"),". Create an account if you don't have one yet."),(0,o.yg)("p",null,"Find your App Id by going to ",(0,o.yg)("a",{parentName:"p",href:"https://portal.cdp.coinbase.com/project-settings"},"Project Settings"),". It's listed as ",(0,o.yg)("inlineCode",{parentName:"p"},"Project ID"),"."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"You must initialize the Onramp feature.")," Click on the tab for ",(0,o.yg)("inlineCode",{parentName:"p"},"Onramp"),", then ",(0,o.yg)("inlineCode",{parentName:"p"},"Edit")," your ",(0,o.yg)("inlineCode",{parentName:"p"},"Display wallet name"),". It takes a few minutes to process."),(0,o.yg)("p",null,"Once you have that, you can use the ",(0,o.yg)("em",{parentName:"p"},"One Click")," pay feature to set up a transaction that will allow the user to use their Coinbase retail account to easily fund their new wallet. These funds will be available for them to use on ",(0,o.yg)("strong",{parentName:"p"},"any")," app on Base that uses the Smart Wallet."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"One Click Pay",src:n(93281).A,width:"1024",height:"606"})),(0,o.yg)("p",null,"To add this, first add a helper function to build the link:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},'const APP_ID = 1234; // Replace with your Project Id\n\nfunction buildOneClickURL() {\n  return `https://pay.coinbase.com/buy/one-click?appId=${APP_ID}&defaultAsset=ETH&defaultPaymentMethod=ACH_BANK_ACCOUNT&destinationWallets=[{"address":"${account.address}","blockchains":["base"]}]&fiatCurrency=usd&presetFiatAmount=25&quoteId=fund-wallet-button`;\n}\n')),(0,o.yg)("p",null,"Then add a new button that opens the URL in a new window:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"<div>\n  {account.status === 'connected' && (\n    <button onClick={() => window.open(buildOneClickURL())}>Fund Wallet (Uses Real Money!)</button>\n  )}\n</div>\n")),(0,o.yg)("admonition",{type:"danger"},(0,o.yg)("p",{parentName:"admonition"},"This link creates real transactions taking payment in real money for real ETH on Base. During testing, you may want to hide this feature, or make it clear that it is not using testnet funds.")),(0,o.yg)("p",null,"For your production app, it would also be a good idea to add a tooltip explaining:"),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"Onchain apps use cryptocurrency to make it easy for users to send and receive payments to one another, or the app. They also use cryptocurrency to allow users to directly pay for their own computation and resource usage in a transparent manner. As such, you need funds to use this app. You can add them with the button above, and you'll be able to use these funds on ",(0,o.yg)("strong",{parentName:"p"},"any app")," within the ",(0,o.yg)("strong",{parentName:"p"},"Base ecosystem")," that uses the smart wallet.")),(0,o.yg)("h2",{id:"connecting-to-the-contract"},"Connecting to the Contract"),(0,o.yg)("p",null,"Use a blockchain explorer to mint a few NFTs on your contract if you haven't yet."),(0,o.yg)("p",null,"Add a new folder in ",(0,o.yg)("inlineCode",{parentName:"p"},"app")," for ",(0,o.yg)("inlineCode",{parentName:"p"},"components")," then add a component called ",(0,o.yg)("inlineCode",{parentName:"p"},"nftList")," in a file of the same name. Import the address and ABI for your deployed Random Color NFT contract. Also import ",(0,o.yg)("inlineCode",{parentName:"p"},"useAccount")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"useReadContract")," from ",(0,o.yg)("inlineCode",{parentName:"p"},"wagmi"),":"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"import { useAccount, useReadContract } from 'wagmi';\nimport contractData from '../contracts/RandomColorNFT.json';\n")),(0,o.yg)("p",null,"Build the component and return a list of the tokens owned by the connected address, as well as the metadata for that token. First, add a type matching the ",(0,o.yg)("inlineCode",{parentName:"p"},"struct")," you added to your contract:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},"type NFTData = {\n  tokenId: bigint;\n  metadata: string;\n};\n")),(0,o.yg)("p",null,"Then add a state variable to hold the list of NFTs, and fetch them with ",(0,o.yg)("inlineCode",{parentName:"p"},"useReadContract"),":"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},'export function NFTList() {\n  const account = useAccount();\n  const [nfts, setNfts] = useState<NFTData[]>([]);\n\n  const { data: nftData, refetch: refetchNftData } = useReadContract({\n    abi: contractData.abi,\n    address: contractData.address as `0x${string}`,\n    functionName: "getNFftsOwned",\n    args: [account.address],\n  });\n\n  useEffect(() => {\n    if (nftData) {\n      const newNfts = nftData as NFTData[];\n      setNfts(newNfts);\n    }\n  }, [nftData]);\n\n  return (\n    <div>\n      <h2>NFTs</h2>\n      {/* TODO */}\n    </div>\n  );\n}\n')),(0,o.yg)("h3",{id:"interpreting-the-metadata-and-image"},"Interpreting the Metadata and Image"),(0,o.yg)("p",null,"Add a type and helper function to convert the base64 encoded metadata to JSON:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"type JSONMetadata = {\n  name: string;\n  description: string;\n  image: string;\n};\n\nfunction getJsonMetadata(nft: NFTData) {\n  const base64String = nft.metadata.split(',')[1];\n  const jsonString = atob(base64String);\n  return JSON.parse(jsonString) as JSONMetadata;\n}\n")),(0,o.yg)("p",null,"The image is already in a format usable by ",(0,o.yg)("inlineCode",{parentName:"p"},"<img>")," tags!"),(0,o.yg)("h3",{id:"displaying-a-list-of-nfts"},"Displaying a List of NFTs"),(0,o.yg)("p",null,"Now that you can extract your metadata and image from your data, use it to build a render function for your NFTs:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"function renderNft(nft: NFTData) {\n  const metadata = getJsonMetadata(nft);\n  return (\n    <div key={nft.tokenId.toString()}>\n      <h3>{metadata.name}</h3>\n      <p>{metadata.description}</p>\n      <img src={metadata.image} alt={metadata.name} />\n    </div>\n  );\n}\n")),(0,o.yg)("p",null,"And use it to display them:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"return (\n  <div>\n    <h2>NFTs</h2>\n    <div>{`Address: ${account.address}`}</div>\n    <div>{nfts.map((nft) => renderNft(nft))}</div>\n  </div>\n);\n")),(0,o.yg)("p",null,"Add further styling or use a library to improve the appearance."),(0,o.yg)("h3",{id:"testing-with-smart-wallet"},"Testing with Smart Wallet"),(0,o.yg)("p",null,"Test with both your normal wallet in the browser, and use incognito or private mode to test with the Smart Wallet."),(0,o.yg)("p",null,"Don't forget to mint some NFTs for the Smart Wallet address!"),(0,o.yg)("p",null,"Everything should work as expected for both."),(0,o.yg)("h3",{id:"adding-a-mint-button"},"Adding a Mint Button"),(0,o.yg)("p",null,"Import and set up functions to write to your contract and wait for the receipt:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"const { data: writeData, writeContract } = useWriteContract();\nconst { data: receipt } = useWaitForTransactionReceipt({\n  hash: writeData,\n});\n")),(0,o.yg)("p",null,"Wait for the receipt, and use it to trigger a refetch of the NFT data. Doing so will update the user's list of NFTs after they buy a new one:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"useEffect(() => {\n  if (receipt) {\n    refetchNftData();\n  }\n}, [receipt]);\n")),(0,o.yg)("p",null,"Finally, add a button allowing the user to purchase a new NFT:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-tsx"},"<button\n  onClick={() =>\n    writeContract({\n      abi: contractData.abi,\n      address: contractData.address as `0x${string}`,\n      functionName: 'mintTo',\n      args: [account.address],\n    })\n  }\n>\n  Mint NFT\n</button>\n")),(0,o.yg)("admonition",{type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"Reminder: We've constructed our contract to require an explicit address for the recipient in the ",(0,o.yg)("inlineCode",{parentName:"p"},"mintTo")," function.")),(0,o.yg)("p",null,"Test it with your normal wallet. Everything should work as expected. Now, test it with the Smart Wallet. You ",(0,o.yg)("strong",{parentName:"p"},"don't")," need to fund the wallet (on testnet)."),(0,o.yg)("p",null,"Not only does the transaction work in a way that's easy for new users, but for a currently, Base is automatically sponsoring transactions done through the Smart Wallet (",(0,o.yg)("strong",{parentName:"p"},"on testnet only)"),"."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Smart Wallet Tx",src:n(45362).A,width:"1024",height:"596"})),(0,o.yg)("p",null,"But you can also get ",(0,o.yg)("strong",{parentName:"p"},"thousands of dollars of gas sponsorship")," with a few setup steps during the ",(0,o.yg)("a",{parentName:"p",href:"https://www.smartwallet.dev/base-gasless-campaign"},"Base Gasless Campaign"),". Also check out the ",(0,o.yg)("a",{parentName:"p",href:"https://www.smartwallet.dev/guides/paymasters"},"Paymaster")," docs to see how to sponsor gas beyond this."),(0,o.yg)("h2",{id:"interacting-with-the-contract"},"Interacting with the Contract"),(0,o.yg)("p",null,"When using the Smart Wallet, you can effortlessly use the same code for both EOA wallet users and Smart Wallet users."),(0,o.yg)("p",null,"Try adding a button that sends the NFT to another user. You can use one of the known testing addresses for now. Update ",(0,o.yg)("inlineCode",{parentName:"p"},"renderNFT"),":"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-solidity"},'  function renderNft(nft: NFTData) {\n    const metadata = getJsonMetadata(nft);\n    return (\n      <div key={nft.tokenId.toString()}>\n        <h3>{metadata.name}</h3>\n        <p>{metadata.description}</p>\n        <img src={metadata.image} alt={metadata.name} />\n        <button\n          onClick={() =>\n            writeContract({\n              abi: contractData.abi,\n              address: contractData.address as `0x${string}`,\n              functionName: "transferFrom",\n              args: [account.address, "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266", nft.tokenId],\n            })\n          }\n        >Test Transfer</button>\n      </div>\n    );\n  }\n')),(0,o.yg)("p",null,"Test with both the EOA and Smart Wallet. Everything works as expected!"),(0,o.yg)("h2",{id:"conclusion"},"Conclusion"),(0,o.yg)("p",null,"In this tutorial, you've learned how to connect users to your onchain app with the Coinbase Smart Wallet. You've seen how the wallet works seamlessly for both EOA and Smart Wallet users. It provides the experience expected for both audiences, without you needing to do extra development to accommodate both paths. You've also learned of a method to make it easy for both new and experienced users to fund their wallets with ETH on Base that they can use on any app in the ecosystem. Finally, you've learned where you can find resources for applying for the ",(0,o.yg)("a",{parentName:"p",href:"https://www.smartwallet.dev/base-gasless-campaign"},"Base Gasless Campaign"),". This program will give you a gas subsidy that you can pass on to your users."),(0,o.yg)("hr",null))}u.isMDXComponent=!0},9826:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/create-a-passkey-656ebf42adeff0aaee2981c0c2528f3b.png"},93281:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/one-click-pay-60811e39151536f1aa5dff4623df5d8e.png"},6535:(e,t,n)=>{n.d(t,{A:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAloAAAGqCAIAAABcQ305AAAACXBIWXMAAAsTAAALEwEAmpwYAAAgD0lEQVR4nO3da3gU5cHG8XsTKAeRLlNrIaZyUgo1Ug5VQBEUBYIo1ioSxaqoUUCoon2lSkWpF6ggiIdK0IClJrUQIYCoEA02SDBKSVABA3IMGEPCYTmZhLA774dHputms9mQDVj4/z5wbWZnZmfj3rln5plZXbZtCwCAM1vUqd4AAABOPeoQAADqEAAA6hAAAFGHAABIqlf7VXBtKuBwuVwn+RUJIGDUMn2ummaJ7AE1EtmCJIBA+GqUvnDrkBACtVSbXiSAQG2Ek77q65AcAhFU01IkgECkhE5fqDoMJ4dkFQgQ1n5oGPMQQKCmapO+KuuwljUJQCHDGTq3BBCopZqmL3gd1nIicCYLnrSwJ4oAAieqNukLrMNwIkcCgTAFRK7aWBJAIFJqmr4f1GG1USSHwAn4QeSqziQBBCIuzPQp9G34YeaQiAKOoHkzGfHvvJpeSkMAgWrVMn3/PTqs6oRMwPSyw996irIPlaz57uCGI57PfF5PLd8AcJqp36BV/Ua/bNz01z+L7fvzVgMDnnWiGOalNAEBPLR7/56vv9mzqXDflqJSz+Gjh0ojt+HA/7yfnN2okbuJ1bb5Oe1izrnwvLN/0cz/2arSZ378vg7D7MKizW/v3vLmob0ZkX4LwOmpYZMuLTs+HlCKlTMZsNMaNIC217d91Yat//5y79eFdb3ZwGngZ+1i2lx5casev3ZF//fbuUM0osu27XC6sPy73d9uSvkm/xnbd6Suth04TcW0f7JNlz/7T/HPpH/Q/H/8QQAPlW5c9p/8xZ/V/cYCp5X2gy79Vf+uDc5u7EypqhGr/D9aBHTkt5tSdm34C10InIDC/Albc5/1n1Kjb4Oyvb7891fThcAJyF/8Wf77/7G9PmdKVemLCnpoWPkc6Tf5z9TBdgJnisL8CcXblvhPMSnz+Xz+E82PAQHctnL9xiWr634bgdPTxiWrt61c7z8laNNFVZ4jQNnhb3dveZPjQqCWCr58JvStFEGfLT1weNuKdXW7ZcDpbtuKdaUHDlee7h+6ICdLAy7v9hRlc+0MUHtlh3NLtr9b0zt9i77YzrUzQC3t/bqw6IvtodMXFeI5M+VQyZo620LgzLLvmw9VRdaqCmDxVztPzrYBpzcTpaqCpspHh5WHEo8cWC8AkXBo76c1umvee+yYZ0dJ3W0PcObw7CgJ/X2H1V9Z+t0BxvCByDj63UbzIOjhoOO/z9o6sJM6BCLAiVKVV5b6P125OW3b5ntngEix7VL/Iqz2yhr/24cB1FJV99mbf4OHjW9BBOoaX0MKnCpBIxbubfgAIqhGt+EDiKCqwlXN/9GCTAKR5WTK+Yr9oP+/w6DjFwBqI/T/0SJKBA84pZz9TjIInHxO+qq5DR9A3Ql6UzABBE6CULfhAwBwxqryylJ2UYG6U+19hydzY4AzSlXp41Ia4KQKM1OMJgIRV/2lNAAAnOGoQ+AU4yIa4MeAOgQAgDoEAIA6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAAUYcAAIg6BABA1CEAAKIOAQAQdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAkOTy+Xy2bUsy/5oH/ho2bHhKtxA4rZSVlblcLkmu42zbNlPMAyd6ZgoBBCLFpM+fmW4ecHQIAAB1CAAAdQgAgKhDAABEHQIAIOoQAABRhwAAiDoEAEDUIQAAog4BABB1CACAqEMAAEQdAgAg6hAAAFGHAACIOgQAQNQhAACiDgEAEHUIAICoQwAARB0CACDqEAAASfUivkav17tixQrbtiW5XK4WLVq0bdu2fv36EVn5/v378/LyWrRo0aFDh4isUNLBgwfz8vKKi4tbtmzZtWvX6Ojo0PNv2LChqKioc+fOzZo1C/9VcnNzPR5Pz549f/KTn5gp5r2ce+65cXFx5nHAInFxcYWFhfv27au8trZt27Zs2TJg4tq1aysqKi655JLvvvsuJyenQ4cOLVq0CLFJHo/nyy+/3L17d7t27Tp06BCp/0Y4tbZu3bp9+3bzuFGjRhdccMHPf/7zSK3cfIx79OjRqFGjiKzQ5/Nt3rz5iy++aNq0aVxcXExMTOj5y8rKVq1a5Xa7u3TpEv6rmHzFxsa2a9fOmbhmzZoDBw5069btrLPOMu/Lf5HGjRu3b98+Nzc36Ar79OkTMMXj8eTm5nbs2PGcc85Zv369x+O5/PLLQ2/V5s2bCwoKArYKp5LP5/N6vV6v99hxFRUVR48eLS8vLysrKy0ttWvowIEDViUffPBBTdcT1MqVKy3LGjt2bETW5vP5/vrXv/pvZ69evTZt2hR6qbFjx1qWtWrVqhq9Vv/+/S3Lev75550pn3zyiWVZo0ePtm07Kyur8i8tIyMjISGh8nTLsl577bXKL3HZZZeNGDHCtu1PP/3UsqycnJwQ27NmzZo2bdo4Kxw8eLDH46nRO8KJKS0tLSsrKysrKy8vP3r0qIlbRUWF88BJ34kFcPLkyQGflttuu+3w4cMR2fjrr7/esqydO3dGZG2bNm2Ki4vz39SpU6eGXqSgoMCyrOuvv75GL2Ty1aZNm927dzsTb775ZsuyNm7caB+PZ8Cfgv/85z9B02dZltfrDXiJZcuWWZaVn59v1nzzzTeH2J7S0tLnn3/erGr8+PE1ei+oDZM+J3pO65kSjPzRoWPu3LkVFRVr1qx54YUXhgwZ8sUXX5x33nl193InYNq0adOnT4+JiUlMTGzVqtWiRYsWLlx46623rlixonHjxnXxipMmTerTp0/nzp2DPtu7d+/hw4c7P1588cUPP/zwsGHDJL3xxhsZGRn/93//Z3aKL7jggoBly8vL8/PzExISJG3dulVSq1atqtoM27bvvPNOj8fzyiuvdOjQ4eWXX164cGFqaurIkSNr+w7x4zBy5MjevXuXlJQkJSUtXbr02Wefffrpp0/1Rv3Arl27fv/73xcWFt500039+/ffu3fvc889N3HixBYtWtx666118Yoej2fs2LGzZs2Kigo+SDR16lTn8PTss89u27btW2+9JWn//v0jR46MiYmZOnWqebbyGjZv3izp/PPPt207Nzf39ttvD7El999//5IlS9xud8AhKU6tuqpDt9t9zTXXSBowYEBJSUlKSkpeXt5555137NixlJSU995775tvvrnoootGjBhhuuG+++7zeDyPP/54UlLS119/3a9fv4cffticvtu5c+drr722YsWKTp069e7d2/9VNm/enJaWlpWVdf7551911VW33HJLdHR0SUnJ/fff36NHj5YtW6akpJx77rljxozxer1JSUm7du269dZbb7755vr163s8nkmTJkl6++23f/WrX0kaOHDgoUOHMjMzs7Oz+/bt6/P50tLSMjMzCwoKrrjiiltuueXCCy+s/E5Xrlz5zjvv5OTkXHrppYMGDbriiiskffzxxy+88EJCQsLatWszMjI++OADZ/7ExMSsrKyzzjqr8qpatWrVr18//ynNmzc3D7KzszMyMrp06RIwg5Gamvrss89Keuqpp9avX5+WlibpiSeeGD58+DnnnDNnzpyEhAT/jS8qKrIsq3///ubvztixYxcuXJidnU0dnjY6depkAnjJJZd069bt/fffN3X49ddf/+1vf8vLy2vSpEl8fHxiYmLDhg3Nx3XYsGFbtmxZunRpbGzsiBEjunbtalY1b9689PT0gwcP3nvvvf4vUVVAZsyY8cEHHzz88MNvv/32l19+ecMNN4wYMSIpKendd9/t0qXLXXfdZc4NpqSkFBYWDhs2bMqUKS6XS1LHjh0HDhyYlJRkPpZB0x3wNg8ePJiSkvLRRx9Juuqqq4YOHfrTn/5U0n333bdnz54xY8ZMmTKlX79+HTt2NPMvXrx43rx5Zq+xsiuvvDJgJ9LEbffu3ZIsywqavr17944bN86EbsyYMdu3bzc7mpImTJiQmppaWloa8KuTNGfOnOjo6NCtiZOsDo8OHfbxcURJzzzzzPTp01u3bn3RRRfNnz9//vz5ubm5LVu2/OSTTwoLC9esWdOsWbNt27atXbtW0tixYz0eT0JCQn5+fkxMzPLly1NSUpzV7tixo3///h6Pp3v37pmZmfPnz9+6deu4cePKysqysrKysrIkud3u7OzsTz/99LvvvmvcuHFhYWF2dvZ5553Xq1evdevWSbr99ttNF0qKjo5+6aWXioqKzJDb5MmTp0yZ4na727dvP23atNmzZy9fvjxgxO7DDz8cMmSIpN69e8+ePXv27Nn/+te/+vbtu3fvXmcbYmJizHuXdPXVV2dmZla1q+71eisqKpwfwx/My8/PLywsNI+dcaOCgoImTZqkpaVNnz69rKxs4sSJzvwtWrQw22Zs2LBBwY44cRrw+XzO48LCwu7du0uKj4/fuHHjU089VVRUNHHiRPNx/fzzz81sq1evTk9P/+qrr84999w333zzoYcektSpU6eAv+lVBWTHjh3mw9+6dWuT5UWLFq1du9btdq9evTo3N3fp0qWSVq1aJWn48OFOOrp165aZmRkVFWXbdkFBQdB0+29AaWnpPffcs3z58tatWzdo0OCJJ5748MMPU1JSGjdubP6eZGVlud1uZ5yve/fuOTk5DzzwgNlXrvy7MifQzOOoqKhqLyMwSkpKnNBt37599erVzlOHDh364x//KGnAgAH+58aSk5Pr169vfg/4Eam7scMFCxbMnTvXjLRZlvXtt9/atp2WljZt2rQjR47Ytj1+/HjLst5++23bts0QQnp6um3bGRkZ5ty9bdsLFiwwgx9m2+644w7r+NjhY489ZllWcnKyeVGzhoKCAjO6YFlWUVHR0aNHL7vsMsuyXn75Zdu258yZ4yw+Y8YMy7KSkpKCvotdu3ZZlhUXF2dG1GbPnu0s6D922LVrV8uy8vLybNv+/PPPzSK2baenp1uW1bVr1z179pgVmsGJDRs29OrVy7KsrKys0GOHZj0O87tatmxZVb/2V1991bIs84tt06bNX/7yFzN9586dzz77rBkgCWrTpk1mEDFSA0II7eSMHfbp02fBggWvvfaa+fw/+eSTtm1v2rQpKSnpo48+sm3bnCFo06aNffzj2qtXryNHjpSVlV177bWWZWVkZNjHg/nZZ5/Ztr1mzRrz4dy5c2e1AZk0aZKzZsuyPB5PWVmZ80krLy83048ePRr0XYROtxk7XLx4sWVZd999t8/n8/l899xzj/M3xMw/e/ZsszaTrzFjxixatMgsfuzYsdBjh2Y9hvldmb9IQZm388ILL9i2PXfuXOfPnW3b8+bNS05OrjzWaNv2+++/z9jhSXbKxg799yUXL15szvtdd911mZmZL7744pYtW9LT0yUdOnTIme3KK690/jVHb+bf2267zeypJSQkLFmyxMycnZ0tadCgQZKaNm2akJAwbdq09evXX3TRRZK6d+/+i1/8QlKPHj3y8/PNVV6XXHKJpJKSEknmpMrhw4eDbvz69esl3XLLLWa2G2644U9/+tPHH3/sP09JScm2bdvi4uI6deokqWPHjnFxcevWrTOnViQNHjz4Zz/7mf8ijRo1mjFjxhVXXDFs2LAXX3wx4EVjYmL69u1rHgcsGEJFRcU333xjjpuLi4uLi4s9Ho/X6y0qKmrevHlsbOzYsWOrWnbLli3x8fEejyctLS02NjbMV8SP39q1a50A9uvX789//rOkCy+80Lbtf//73++++665ZtJ/7Oraa681Q+YDBw7MycnZs2dPSUlJYWFh69atTXC6dOliDvgURkDMqIEZComPjzezXX311fPnz9+3b19MTIwZOSsrKwt6FiR0up33KGnIkCHm+DIhISE9PT0vL+93v/udmeHGG28MWO2gQYOGDBkyd+7c119/vfKLDho0yLlcPOjhY1DFxcVmS7xe7/bt281ZU7Nj0bBhw8GDB4e5HpxydViHH374YW5u7qOPPirJfIiPHTt200035eTktG/f/rLLLouPjw84XWBuQqhX779bdeTIEUkNGjQwP/onx9yB4DzVsGFDZ35JASc6TGCc0zKS4uLiJH366af+s61cufLzzz/v0aOHWY9Zp7NhRUVF/jOXlpZK8r/ivEmTJs50/23z9+tf/3rixInjxo177LHHAp7q27fvtGnTKi8SWl5e3oABA8xjZ7xn5syZxcXFycnJIRbctGnTgAEDPB7PP/7xj8oXjuN/2tChQ4cNG2aGD3v27Gk+yc65/euuuy4+Pt78EXc4H1fnXqCysjJJ/uPczuNqA+IfQCfRzhUoUVFRV1555cKFC/Pz803XSiovL09OTna5XPfff3/odBsHDx703wbzwH/32nkj/iZOnLhs2bJx48a53e6Ap5588skQF6BV5YEHHli+fLmkSZMmmcsRJF166aVZWVnmjwz+V9TVbfhut7tz58733HPP0KFDJc2cOVPS1q1bc3JyevfuvWLFiilTpjjj2yFcfPHFksynTZL/iJe5rMb0mdfrNZerhP/5M+P5mZmZ//znP82UoqKiESNGjB8/3uVymf7OzMz0er3OqziHbkZsbKwZDjF/BYqLi3Nyctxu9y9/+cvQL52YmHj55Zc7o321FBsb+8Ybb0hyu92pqanmOHjixIljxowxM5izoAFLbdy40XThrFmzBg4cGJEtwY9H7969O3fu/Mknn0gaP368OSOyYMECSYsXL54zZ05iYmK1KzHDXevWrdu5c6ekXbt2mbM1Or6DGzogoZkP6kMPPWSOUG3bnjVr1vjx47Ozs6Ojo8NJt7nK2vmbYI5NnT3CqjRr1szkJVJXdY4ePbp169aSkpKSUlNTzcTU1FQzGH/w4EEuH/1fUeeX0jzyyCOpqamTJ08eOnSouR04Kytr3rx5+/fvnzx5crWL9+zZU9LMmTMPHz7scrn8L6VJSEh46623hg8fnpiY+NVX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"},45362:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/sponsored-by-base-c0156215016f62fcfd841cedf12879e2.png"},4947:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/wagmi-template-normal-62a58256ea283bb6cffd6e46be9c4ded.png"}}]);