"use strict";(self.webpackChunk_app_base_docs=self.webpackChunk_app_base_docs||[]).push([[1501],{30876:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(2784);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return n?o.createElement(h,i(i({ref:t},p),{},{components:n})):o.createElement(h,i({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},67625:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var o=n(7896),r=(n(2784),n(30876));const a={title:"ERC-20 Implementation",description:"Implement your own ERC-20 token.",hide_table_of_contents:!1},i=void 0,l={unversionedId:"docs/erc-20-token/erc-20-token-sbs",id:"docs/erc-20-token/erc-20-token-sbs",title:"ERC-20 Implementation",description:"Implement your own ERC-20 token.",source:"@site/base-camp/docs/erc-20-token/erc-20-token-sbs.md",sourceDirName:"docs/erc-20-token",slug:"/docs/erc-20-token/erc-20-token-sbs",permalink:"/base-camp/docs/erc-20-token/erc-20-token-sbs",draft:!1,tags:[],version:"current",frontMatter:{title:"ERC-20 Implementation",description:"Implement your own ERC-20 token.",hide_table_of_contents:!1},sidebar:"docs",previous:{title:"ERC-20 Testing",permalink:"/base-camp/docs/erc-20-token/erc-20-testing-vid"},next:{title:"ERC-20 Tokens Exercise",permalink:"/base-camp/docs/erc-20-token/erc-20-exercise"}},s={},c=[{value:"Objectives",id:"objectives",level:2},{value:"Setting Up the Contract",id:"setting-up-the-contract",level:2},{value:"Adding a Constructor",id:"adding-a-constructor",level:3},{value:"ERC-20 Further Testing",id:"erc-20-further-testing",level:2},{value:"Minting in the Constructor",id:"minting-in-the-constructor",level:3},{value:"Testing the Transfer Function",id:"testing-the-transfer-function",level:3},{value:"Testing the Transfer From Function",id:"testing-the-transfer-from-function",level:3},{value:"ERC-20 Final Thoughts",id:"erc-20-final-thoughts",level:2},{value:"Conclusion",id:"conclusion",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,o.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ERC-20 is a standard that allows for the development of fungible tokens and helps sites and apps, such as exchanges, know how to find and display information about these tokens. You can leverage existing implementations, such as the one by ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/ERC20.sol"},"OpenZeppelin")," to develop your own tokens."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"objectives"},"Objectives"),(0,r.kt)("p",null,"By the end of this lesson you should be able to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Describe OpenZepplin"),(0,r.kt)("li",{parentName:"ul"},"Import the OpenZepplin ERC-20 implementation"),(0,r.kt)("li",{parentName:"ul"},"Describe the difference between the ERC-20 standard and OpenZeppelin's ERC20.sol"),(0,r.kt)("li",{parentName:"ul"},"Build and deploy an ERC-20 compliant token")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"setting-up-the-contract"},"Setting Up the Contract"),(0,r.kt)("p",null,"Create a new Solidity file, add the license and pragma, and import the ERC-20 implementation linked above."),(0,r.kt)("p",null,"Add a contract called ",(0,r.kt)("inlineCode",{parentName:"p"},"MyERC20Token")," that inherits from ",(0,r.kt)("inlineCode",{parentName:"p"},"ERC20"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},'// SPDX-License-Identifier: MIT\n\npragma solidity ^0.8.17;\n\nimport "https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/ERC20.sol";\n\ncontract MyERC20Token is ERC20 {\n\n}\n')),(0,r.kt)("h3",{id:"adding-a-constructor"},"Adding a Constructor"),(0,r.kt)("p",null,"Review the constructor on line 53 of the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/ERC20.sol"},"OpenZeppelin")," implementation. It requires strings for the name and symbol you wish to use for your token. They're using a slightly different naming convention by putting the ",(0,r.kt)("inlineCode",{parentName:"p"},"_")," after the name of the parameters. Like any other function, you can pass variables of ",(0,r.kt)("strong",{parentName:"p"},"any")," name as long as they're the right type, so feel free to continue adding the ",(0,r.kt)("inlineCode",{parentName:"p"},"_")," in front in your contract's constructor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"constructor(string memory _name, string memory _symbol) ERC20(_name, _symbol) {\n\n}\n")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"There is neither a governing body nor built-in programmatic rules preventing you, or anyone else, from using the same name and symbol as an already in-use token. Scammers often take advantage of this fact, and even well-meaning developers can cause confusion by not being careful here.")),(0,r.kt)("p",null,"That's it. You're done! Deploy and test, and you should see all of the functionality called for by the standard and provided by the OpenZeppelin implementation."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Deployed",src:n(29322).Z,width:"273",height:"522"})),(0,r.kt)("p",null,"Do some testing. You'll see that the ",(0,r.kt)("inlineCode",{parentName:"p"},"totalSupply")," and all balances are zero."),(0,r.kt)("p",null,"By default, the decimal for the token will be 18, which is the most common choice. Remember, there aren't decimal types yet, so 1.0 ETH is really a ",(0,r.kt)("inlineCode",{parentName:"p"},"uint")," holding 1 ","*"," 10","*","*","18, or 1000000000000000000."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"erc-20-further-testing"},"ERC-20 Further Testing"),(0,r.kt)("p",null,"Line 251 of the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/ERC20.sol"},"OpenZeppelin")," implementation contains a ",(0,r.kt)("inlineCode",{parentName:"p"},"_mint")," function, but it's internal. As a result, you'll need to figure out a minting mechanism and add it via your own contract."),(0,r.kt)("h3",{id:"minting-in-the-constructor"},"Minting in the Constructor"),(0,r.kt)("p",null,"One method of using the ",(0,r.kt)("inlineCode",{parentName:"p"},"_mint")," function is to create an initial supply of tokens in the constructor. Add a call to ",(0,r.kt)("inlineCode",{parentName:"p"},"_mint")," that awards 1 full token to the contract creator. Remember, the decimal is 18. Minting literally ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," is creating a tiny speck of dust."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"constructor(string memory _name, string memory _symbol) ERC20(_name, _symbol) {\n    _mint(msg.sender, 1 * 10**18);\n}\n")),(0,r.kt)("p",null,"Redeploy. Without you needing to do anything, you should find that the ",(0,r.kt)("inlineCode",{parentName:"p"},"totalSupply")," is now 1000000000000000000, as is the ",(0,r.kt)("inlineCode",{parentName:"p"},"balanceOf")," the deploying address."),(0,r.kt)("p",null,"You can also use this to mint to other users. Go ahead and add the second and third accounts:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Reveal code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"constructor(string memory _name, string memory _symbol) ERC20(_name, _symbol) {\n    _mint(msg.sender, 1 * 10**18);\n    _mint(0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2, 1 * 10**18);\n    _mint(0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db, 1 * 10**18);\n}\n"))),(0,r.kt)("br",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Switch back")," to the first account and redeploy. Test to confirm that each account has the appropriate amount of tokens."),(0,r.kt)("h3",{id:"testing-the-transfer-function"},"Testing the Transfer Function"),(0,r.kt)("p",null,"Try using the ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer")," function to move tokens around."),(0,r.kt)("p",null,"What happens if you try to burn a token by sending it to the zero address? Give it a try!"),(0,r.kt)("p",null,"You'll get an error, because protecting from burning is built into the ",(0,r.kt)("inlineCode",{parentName:"p"},"_transfer")," function."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'transact to MyERC20Token.transfer pending ...\ntransact to MyERC20Token.transfer errored: VM error: revert.\n\nrevert\n    The transaction has been reverted to the initial state.\nReason provided by the contract: "ERC20: transfer to the zero address".\nDebug the transaction to get more information.\n')),(0,r.kt)("h3",{id:"testing-the-transfer-from-function"},"Testing the Transfer From Function"),(0,r.kt)("p",null,"You might have noticed that there's another function called ",(0,r.kt)("inlineCode",{parentName:"p"},"transferFrom"),". What's that for? Check the documentation in the contract to find out!"),(0,r.kt)("p",null,"This function works with the ",(0,r.kt)("inlineCode",{parentName:"p"},"allowance")," function to give the owner of one wallet permission to spend up to a specified amount of tokens owned by another. Exchanges can make use of this to allow a user to post tokens for sale at a given price without needing to take possession of them."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"erc-20-final-thoughts"},"ERC-20 Final Thoughts"),(0,r.kt)("p",null,"The world is still figuring out how to handle all of the new possibilities tokens provide. Old laws are being applied in new ways, and new laws are being written. Different jurisdictions are doing this in unique and sometimes conflicting ways."),(0,r.kt)("p",null,"You should consult with a lawyer in your jurisdiction before releasing your own tokens."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"In this lesson, you've learned how easy it is to create an ERC-20 compliant token by using the OpenZeppelin implementation. You've reviewed at least one method to mint an initial supply of tokens, and that it's up to you to figure out the best way to create your tokens and follow all relevant laws and regulations."),(0,r.kt)("hr",null))}d.isMDXComponent=!0},29322:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/deployed-token-5b335f5c48b8468ef9b7980633209a21.png"}}]);